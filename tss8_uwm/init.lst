
      /TSS-8.25 CONFIGURATION FOR UWM                                     Page 1


    1             /TSS-8.25 CONFIGURATION FOR UWM
    2             /CONFIGURATION PARAMETERS FOR THE TSS/8 MONITOR
    3             /COPYRIGHT 1971 - DIGITAL EQUIPMENT CORPORATION; MAYNARD, MASS.
    4             /
    5             /TSS-8 SYSTEM PARAMETERS AND OPTIONS.  FOR EACH PARAMETER,
    6             /THE COMMENT INIDCATES THE POSSIBLE RESPONSES.
    7             
    8       0000  DEBUG=  0       /SYSTEM DEBUGGING CONTROL:
    9                             / =0, PRODUCTION SYSTEM (AUTO-RESTARTS & ERROR FIXUP)
   10                             / =1, SYSTEM RELIABILITY (JUST AUTO-RESTARTS)
   11                             / =2, SYSTEM DEBUGGING (SYSTEM HALTS ON ERROR)
   12                             / =3, FULL CHECKING (THOROUGH 'RETB' CHECK)
   13                             /BITS 0-8, AVAILABLE FOR LOCAL SWITCHES:
   14                             / 4000 - ENABLE MQ MEMORY DISPLAY (IN TIMER)
   15             
   16       0002  CPU=    2       /0 IF CPU IS PDP-8/I; 1 IF PDP-8
   17                             / 2 IF PDP-8/E; 3 IF PDP-12; 4 IF PDP-8/A
   18             
   19       0000  EAE=    0       /20 IF CPU INCLUDES EAE; 0 IF NOT
   20             
   21       0070  CORMEM= 70      /HIGHEST DATA FIELD SELECT; FOR 12K SYS,
   22                             / RESPOND 20; FOR 16K, RESPOND 30; FOR 32K, 70
   23             
   24       0000  D680=   0       /2 IF TTY INTERFACING IS 680 OR DC08;
   25                             / 0 IF TTY INTERFACING IS PT08'S
   26             
   27       0000  PHONES= 0       /1 IF 680 OR DC08 INCLUDES 689 OR DC08F;
   28                             / 0 IF IT DOESN'T OR TTY INTERFACING IS PT08'S
   29             
   30       0000  RF08=   0       /40 IF SYSTEM DISC IS DF32; 0 IF RF08
   31             
   32       0001  RS08=   1       /# OF DISCS IN SYSTEM, WHETHER RF08 OR DF32
   33             
   34       0001  RK05=   1       /# OF NONSYSTEM RK05 DRIVES
   35             
   36       0000  RK8E=   0       /# OF RK8E DRIVES; ONLY FIRST IS USED FOR SYSTEM
   37                             / THE REMAINDER ARE TREATED AS PERIPHERALS
   38             
   39       0001  READER= 1       /1 IF SYSTEM INCLUDES HIGH-SPEED READER; 0 IF NOT
   40             
   41       0001  PUNCH=  1       /1 IF SYS HAS HSP, 0 IF NOT
   42             
   43       0001  TC01=   1       /1 IF SYS HAS DECTAPES; 0 IF NOT
   44             
   45             
   46       0000  TD8E=   0       /1 IF TD8E DECTAPES AVAILABLE FOR LOADING & DUMPING
   47                             / 0 IF NOT; NOTE THAT TD8E TAPES CANNOT BE USED UNDER
   48                             / TSS/8, THEY REQUIRE CONTINUOUS CPU ATTENTION
   49             
   50       0003  LPT=    3       /0 IF NO PRINTER ON SYS; 1 IF LP08; 2 IF LS8E; 3 IF NONSTANDARD
   51             
   52       0000  CDR=    0       /NO SYS CAN HAVE CARD READER
   53             /
   54             /MONITOR OPTIONS 
   55             /FILL IN THE FOLLOWING LINES TO INDICATE THE 
   56             /MONITOR CAPACITY FOR THIS SYSTEM
   57             

      /TSS-8.25 CONFIGURATION FOR UWM                                     Page 2


   58                     DECIMAL
   59       0024  JOBMAX= 20      /NUMBER OF SIMULTANEOUS USERS (.LE. 20)
   60             
   61       0001  CONTTY= 1       / (ALWAYS HAVE A CONSOLE)
   62             
   63       0000  DC08A=  0       /NUMBER OF TERMINALS VIA DC08A (PDP-8/I ONLY, 19 MAX)
   64             
   65       0000  DC08LO= 0       /LOWEST LINE-NUMBER USED ON DC08A
   66             
   67       0000  PT08=   0       /NUMBER OF TERMINALS VIA PT08 (PDP-8 & PDP-8/I ONLY)
   68             
   69       0017  KL8=    15      /NUMBER OF TERMINALS VIA KL8E (PDP-8/E ONLY, 19 MAX)
   70             
   71       0003  CDVIN=  3       /NONSTANDARD INPUT CHARACTER DEVICES (HIGHEST USED)
   72                             / 1 = R2; 2 = X0; 3 = X1; 4 = X2; 5 = X3
   73             
   74       0004  CDVOUT= 4       /NONSTANDARD OUTPUT CHARACTER DEVICES (HIGHEST USED)
   75                             / 1 = P2; 2 = L2; 3 = Y0; 4 = Y1; 5 = Y2; 6 = Y3
   76             
   77       0012  TRUKBD= 10      /NUMBER OF ACTUAL KEYBOARDS ON SYSTEM (NOT COUNTING
   78                             / CONSOLE TTY). THIS MUST BE .LE. NULINE; NULINE
   79                             / MAY INCLUDE DUMMY TERMINALS, THIS MAY NOT.
   80             
   81       0012  FRCMAX= TRUKBD  /THE HIGHEST KEYBOARD # A '00XX' ACCT # MAY FORCE
   82                             / NOTE THAT A '000X' ACCOUNT MAY FORCE UP TO 'NULINE'
   83             
   84       0012  TLKMAX= TRUKBD  /THE HIGHEST KEYBOARD # WHICH MAY BE 'TALK'ED TO
   85             
   86       0012  BRDMAX= TRUKBD  /THE HIGHEST KEYBOARD WHICH WILL RECEIVE BROADCASTS
   87                     OCTAL
   88             
   89       0002  DTAMIN= 2       /THE FIRST DECTAPE DRIVE WHICH WILL BE ASSIGNED
   90                             / FOR 'ASSIGN D' COMMAND; NORMALLY =0, BUT MAY
   91                             / VARY FOR SLIGHTLY RESTRICTED DRIVE USE.
   92             
   93       0007  BILLNG= 7       /THE ACCOUNT NUMBER OF THE BILLING SYSTEM
   94                             / 0, IF NO BILLING SYSTEM USED
   95             /
   96             /SYSTEM CONSTANTS
   97             
   98       0020  INFLD=  20      /FIELD SELECT THAT 'INIT' SHOULD BE BOOTED INTO
   99                             / MAKING IT 20 AVOIDS PROBLEMS SHOULD A
  100                             / FIELD NEED REPAIR & SYSTEM IS RUN ON 12K
  101       0001  TTYEVEN=1       /1 INDICATES PARITY TTY MAY BE USED WITH SYS
  102                             / 0 ALLOWS ONLY DEC MODIFIED TTYS
  103             
  104             ///     END OF SYSTEM CONFIGURATION PARAMETERS

      /TSS-8.25 CONFIGURATION FOR UWM                                     Page 3


  105             
  106             /PARAMETERS - UWM VERSION 25
  107             /
  108             /COPYRIGHT 1971                 DIGITAL EQUIPMENT CORPORATION
  109             /                               MAYNARD, MASSACHUSETTS
  110             /
  111             /EXTENSIVELY MODIFIED AND CORRECTED BY
  112             /       RICHARD BARTLEIN, 1974, 1976
  113             /       UNIVERSITY OF WISCONSIN - MILWAUKEE
  114             /
  115       0031  VERNUM= 31      /SYSTEM VERSION NUMBER
  116             /
  117       0000          IFZERO DC08A    <D689=0>
  118                     IFNZRO DC08A    <
  119                             IFNZRO PHONES   <D689=4>
  120                             IFZERO PHONES   <D689=0>>
  121             
  122       0017  NULINE= DC08A+PT08+KL8  /NUMBER OF TERMINALS LESS CONSOLE
  123       37777777772  QUANT=  -6              /NUMBER OF SYSTEM TICKS PER TIME SLICE
  124       0000  PLT=    0
  125       0005  STOMIN= 5               /MINIMUM # FREE STORAGE BLOCKS FOR NEW JOB
  126       0005  SWDEX=  5               /DISC TRACK OF FIRST SWAP AREA
  127       0024  TICSPS= 24              /NUMBER OF SYSTEM TICKS PER SECOND
  128             
  129                     IFZERO RK8E <
  130                     IFZERO RF08-40 <
  131             DSKSIZ= RS08^10
  132                     >
  133                     IFZERO RF08 <
  134       0100  DSKSIZ= RS08^100        /# OF 4K DISC TRACKS
  135                     >>
  136                     IFNZRO RK8E <
  137             DSKSIZ= 400             /# OF 4K DISC TRACKS
  138                     >
  139       0062  CLOCKR= TICSPS%2+1750%TICSPS    /MILLISECONDS PER SYSTEM TICK
  140       0645  INCLK2= 0645            /1,728,000 TICKS PER DAY
  141       17000  INCLK1= 600^TICSPS      / (LOW 12 BITS OF 86,400 SECS/DAY * TICKS/SEC)
  142       2260  TICMIN= 74^TICSPS       /SYSTEM TICKS PER MINUTE
  143             
  144       0010  INIDEX= 10      /INIT DISC EXTENSION
  145       0030  TS8DEX= 30      /FIELD 0 DISC EXTENSION*2^3
  146       0000  ERPDEX= 0       /ERP DISC EXTENSION*4
  147       0000  ERPWC=  0       /ERP WORD COUNT
  148       0004  FIPDEX= 4       /FIP DISC EXTENSION*4
  149       0000  FIPWC=  0       /FIP WORD COUNT
  150       0000  SIDEX=  ERPDEX  /SI DISC EXTENSION*4
  151       0000  SIWC=   ERPWC   /SI WORD COUNT
  152       0002  LIBACT= 2       /LIBRARY ACCOUNT #
  153       4000  BRKINI= 4000    /INITIAL USER BREAK MASK
  154       0400  WRDSEG= 400     /#WORDS PER DISC SEGMENT
  155             
  156             /IOT DEFINITIONS
  157             
  158                     IFZERO D680-2 <
  159             TTINCR= 6401    /INCREMENT LINE REGISTER
  160             TTI=    6402    /TELETYPE INPUT COMMAND
  161             TTO=    6404    /TELETYPE OUTPUT COMMAND

      /TSS-8.25 CONFIGURATION FOR UWM                                     Page 4


  162             TTCL=   6411    /CLEAR LINE REGISTER
  163             TTSL=   6412    /SET LINE REGISTER, CLEAR AC
  164             TTRL=   6414    /READ LINE REGISTER
  165             T8SKP=  6421    /SKIP ON CLOCK FLAG
  166             T8OFF=  6422    /TURN CLOCK OFF
  167             TT8ON=  6424    /TURN CLOCK ON
  168             TTRINC= 6461    /INCREMENT THE R REG.
  169             TT8CLR= 6473    /CLEAR AND LOAD THE R REG.
  170                     >

      /TSS-8.25 CONFIGURATION FOR UWM                                     Page 5


  171             /EXTENDED MEMORY
  172             
  173       6201  CDF=    6201    /CHANGE TO DATA FIELD 0
  174       6202  CIF=    6202    /CHANGE TO INSTRUCTION FIELD 0
  175       6203  CDI=    6203    /CHANGE DATA & INSTRUCTION FIELDS
  176       6204  CINT=   6204    /CLEAR USER IOT
  177             
  178       6214  RDF=    6214    /READ DATA FIELD
  179       6224  RIF=    6224    /READ INSTRUCTION FIELD
  180       6234  RIB=    6234    /READ INTERRUPT BUFFER
  181       6244  RMF=    6244    /RESTORE MEMORY FIELD
  182       6254  SINT=   6254    /SKIP ON USER IOT
  183       6264  CUF=    6264    /USER FLAG OFF
  184       6274  SUF=    6274    /USER FLAG ON
  185             
  186             /EAE
  187                     IFZERO EAE-20 <
  188             MUY=    7405    /MULTIPLY
  189             DVI=    7407    /DIVIDE
  190             NMI=    7411    /NORMALIZE
  191             SHL=    7413    /SHIFT ARITHMETIC LEFT
  192             ASR=    7415    /ARITHMETIC SHIFT RIGHT
  193             LSR=    7417    /LOGICAL SHIFT RIGHT
  194             MQL=    7421    /LOAD MQ
  195             SCL=    7403    /STEP COUNTER LOAD FROM MEMORY
  196             SCA=    7441    /STEP COUNTER TO AC
  197             MQA=    7501    /MQ TO AC
  198             
  199                     IFZERO CPU-2 <
  200             DPSZ=   7451    /SKIP IF AC=MQ=0 (MODE B ONLY)
  201             SAM=    7453    /SUBTRACT AC FROM MQ
  202             SKB=    7671    /SKIP IF MODE B (MESSES UP AC AND MQ)
  203             SWBA=   7447    /CHANGE MODE TO A
  204             SWAB=   7431    /CHANGE MODE TO B (ALSO DOES MQL)
  205             ACS=    7403    /AC(7:11) TO SC; AC CLEARED 
  206                     >>
  207                     IFZERO CPU-2 <
  208       6003  SRQ=    6003    /SKIP ON INTERRUPT REQUEST
  209       6004  GTF=    6004    /LINK TO AC0, GT FLAG TO AC1
  210       6005  RTF=    6005    /AC0 TO LINK, AC1 TO GT FLAG
  211       6006  SGT=    6006    /SKIP ON GT FLAG
  212       6007  CAF=    6007    /CLEAR ALL FLAGS
  213       6102  SPL=    6102    /SKIP ON POWER LOW
  214                     >
  215             
  216                     IFZERO CPU-4 <
  217             SPL=    6102    /SKIP ON POWER LOW
  218             CAL=    6133    /CLEAR POWER LOW FLAG
  219                     >
  220             
  221             /LINE PRINTER IOTS
  222       6661  LSF=    6661    /SKIP ON CHAR FLAG SET
  223       6662  LCF=    6662    /CLEAR CHAR FLAG
  224       6663  LSRP=   6663    /SKIP ON NOT READY OR ON ERROR
  225       6664  LLC=    6664    /TRANSMIT CHAR TO PRINTER
  226       6665  LIE=    6665    /AC11 TO INTERRUPT ENABLE (LS08/LS8E)
  227       6665  LSP=    6665    /SET PROGRAM INTERRUPT (LP08/LE8)

      /TSS-8.25 CONFIGURATION FOR UWM                                     Page 6


  228       6666  LPC=    6666    /TRANSMIT CHAR & CLEAR FLAG
  229       6667  LCP=    6667    /CLEAR PROGRAM INTERRUPT

      /TSS-8.25 CONFIGURATION FOR UWM                                     Page 7


  230             /CTY
  231             
  232       6044  TPC=    6044    /LOAD TELEPRINTER AND PRINT
  233             
  234             /DISC (DF32)
  235             
  236       6601  DCMA=   6601    /CLEAR
  237       6603  DMAR=   6603    /READ
  238       6605  DMAW=   6605    /WRITE
  239       6611  DCEA=   6611    /CLEAR DISC EXTENDED ADDRESS
  240       6615  DEAL=   6615    /LOAD EXTENDED ADDRESS
  241       6621  DFSE=   6621    /SKIP ON ERROR
  242       6622  DFSC=   6622    /SKIP ON COMPLETION
  243       6616  DEAC=   6616    /READ EXTENDED ADDRESS
  244             
  245             /DISC (RF08)
  246             
  247       6615  DIML=   6615
  248       6616  DIMA=   6616
  249       6643  DXAL=   6643
  250             
  251             /RK05 DISC IOTS
  252       6740          IFZERO PHONES   <RKDV=6740>
  253                     IFNZRO PHONES   <RKDV=6750>
  254       6741  DSKP=   RKDV+1  /SKIP IF DONE OR ERROR
  255       6742  DCLR=   RKDV+2  /CLEAR THE CONTROLLER
  256       6743  DLAG=   RKDV+3  /LOAD DISC ADDRESS & GO
  257       6744  DLCA=   RKDV+4  /LOAD CURRENT CORE ADDRESS
  258       6745  DRST=   RKDV+5  /READ THE STATUS
  259       6746  DLDC=   RKDV+6  /LOAD THE COMMAND REGISTER
  260       6747  DMAINT= RKDV+7  /MAINTENANCE ONLY
  261             
  262             /
  263             /TC08 DECTAPE CONTROLLER IOTS
  264       6761  DTRA=   6761    /READ A-REGISTER
  265       6762  DTCA=   6762    /CLEAR A-REGISTER
  266       6764  DTXA=   6764    /XOR INTO A-REGISTER
  267       6771  DTSF=   6771    /SKIP ON DECTAPE FLAG
  268       6772  DTRB=   6772    /READ STATUS-REGISTER (B)
  269       6774  DTLB=   6774    /LOAD STATUS-REGISTER (B)
  270             
  271             /CARD READER IOTS
  272       6631  RCSF=   6631    /SKIP ON DATA READY
  273       6632  RCRA=   6632    /READ ALPHANUMERIC
  274       6634  RCRB=   6634    /READ BINARY
  275       6635  RCNO=   6635    /READ CONDITIONS OUT TO CARD READER     (8/E ONLY)
  276       6636  RCRC=   6636    /READ COMPRESSED                        (8/E ONLY)
  277       6637  RCNI=   6637    /READ CONDITION IN FROM CARD READER     (8/E ONLY)
  278       6671  RCSD=   6671    /SKIP ON CARD DONE FLAG
  279       6672  RCSE=   6672    /SELECT CARD READER AND SKIP IF READY
  280       6674  RCRD=   6674    /CLEAR CARD DONE FLAG
  281       6675  RCSI=   6675    /SKIP IF INTERRUPT BEING GENERATED      (8/E ONLY)
  282       6677  RCTF=   6677    /CLEAR TRANSITION FLAGS                 (8/E ONLY)
  283             
  284                     IFZERO CPU <
  285             /KW8I           REAL TIME CLOCK
  286             

      /TSS-8.25 CONFIGURATION FOR UWM                                     Page 8


  287             CECI=   6137    /CLEAR AND ENABLE CLOCK AND INTERRUPT
  288             CSCF=   6133    /SKIP AND CLEAR FLAG IF FLAG
  289                     >
  290             
  291                     IFZERO CPU-1 <
  292             CECI=   6315    /CLOCK ENABLE
  293             CSCF=   6301    /SKIP ON CLOCK FLAG
  294             CCF=    6302    /CLEAR CLOCK FLAG, CLEAR ENABLE AND CLEAR BUFFER
  295             CLB=    6304    /LOAD BUFFER FROM AC
  296                     >
  297             
  298                     IFZERO CPU-2 <
  299       6131  CECI=   6131    /CLOCK ENABLE
  300       6133  CSCF=   6133    /SKIP AND CLEAR FLAG IF FLAG
  301                     >
  302             
  303                     IFZERO CPU-3 <
  304             CLAB=   6133
  305             CLLR=   6132
  306             CLEN=   6134
  307             CLSA=   6135
  308             CLSK=   6131
  309             
  310             MTPF=   6113
  311             MINT=   6115
  312             MTON=   6117
  313             MKTF=   6123
  314             MINS=   6125
  315             MTRS=   6127
  316             
  317             MKSF=   6111
  318             MKCC=   6112
  319             MKRS=   6114
  320             MKRB=   6116
  321             
  322             MTSF=   6121
  323             MTCF=   6122
  324             MTPC=   6124
  325             MTLS=   6126
  326                     >
  327             
  328                     IFZERO CPU-4 <
  329             CLLE=   6135    /AC11 TO CLOCK INTERRUPT ENABLE
  330             CLCL=   6136    /CLEAR CLOCK FLAG
  331             CLSK=   6137    /SKIP ON CLOCK FLAG
  332                     >
  333             
  334                     IFNZRO DC08A <
  335             /689AG
  336             
  337             SRF=    6701    /SKIP IF RING FLAG
  338             SCF=    6711    /SKIP IF CARRIER FLAG
  339             DFCRF=  6742    /CLEAR RING FLAG
  340             CTG=    6721    /CLEAR GROUP COUNTER
  341             RRS=    6702    /READ RING STATUS
  342             ITG=    6731    /INCREMENT GROUP COUNTER
  343             STR=    6722    /SET TERMINAL READY

      /TSS-8.25 CONFIGURATION FOR UWM                                     Page 9


  344             EDF=    6704    /ENABLE DATAPHONE FEATURES
  345             DDF=    6714    /DISABLE DATAPHONE FEATURES
  346             CTR=    6724    /CLEAR TERMINAL FLAG
  347             CCF=    6741    /CLEAR CARRIER FLAG
  348             RCS=    6712    /READ CARRIER STATUS
  349                     >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 10


  350             /FIP IOTS (AS USED INTERNALLY)
  351             
  352       0040  ASD=    0040    /ASSIGN DEVICE
  353       0042  REL=    0042    /RELEASE DEVICE
  354       0200  REN=    0200    /RENAME FILE
  355       6601  OPEN=   6601    /OPEN FILE
  356       0202  CLOS=   0202    /CLOSE
  357       6603  RFILE=  6603    /READ FILE
  358       0204  PROT=   0204    /PROTECT
  359       6605  WFILE=  6605    /WRITE FILE
  360       6606  XOPEN=  6606    /OPEN FILE WITH EXCLUSIVE USE
  361       0207  CPASS=  0207    /CHANGE A USER'S PASSWORD
  362       0210  CRF=    0210    /CREATE
  363       0211  EXT=    0211    /EXTEND
  364       0212  RED=    0212    /REDUCE
  365       6613  FINF=   6613    /FILE INFORMATION
  366       0214  LIN=    0214    /LOGIN
  367       0215  LOUT=   0215    /LOGOUT
  368       0220  BCLR=   0220    /CLEAR MFD BILLING INFORMATION
  369             
  370             
  371             /DEVICE DATA BLOCK
  372             
  373       0000  DDBSTS= 0               /WORD 1.  STATUS AND UNIT NUMBER
  374       2000          DXON=   2000    /XOFF SENT FLAG - SEND 'XON' WHEN NEEDED
  375       1000          DSI=    1000    /DESTINATION IS S.I. FLAG
  376       0400          DFULL=  400     /INDICATES BUFFER IS FULL
  377       0200          DUPL=   200     /CONSOLE IN DUPLEX MODE
  378       0100          SICOM=  100     /COMMAND WAITING
  379       0040          CTRLC=  40      /USER TYPED CTRL/C
  380       0020          DECHO=  20      /CAUSE 'SI' TO ECHO INPUT BUFFER
  381       0010          DHALF=  10      /KEYBOARD IS HALF-DUPLEX (HARDWARE)
  382       0004          DFORC=  4       /KEYBOARD WAS JUST FORCED
  383       0002          CTRLB=  2       /COMMAND PRECEDED BY EXPLICIT CTRL/B
  384             
  385             /OUTPUT SIDE:
  386             
  387       4000          CTRLS=  4000    /CTRL-S ENTERED (OUTPUT FROZEN)
  388       3000          DXOFF=  3000    /JAM 'XOFF' INTO OUTPUT
  389       1000          DBELL=  1000    /JAM 'BELL' INTO OUTPUT
  390       0001          DTALK=  1       /LOCK KEYBOARD AGAINST TALKS
  391             
  392             /OUTPUT REGISTER:
  393             
  394             /       4000 - BUFFER CHECKING REQUESTED
  395             /       2000 - DEVICE INTERRUPT EXPECTED
  396             /       1000 - 5-SECOND TIMEOUT FLAG
  397             /       400-2 - NEXT BUFFERED CHARACTER
  398             /       0001 - BUFFERED CHARACTER WAITING
  399             
  400       0001  DDBJN=  1       /WORD 2. JOB NUMBER IN 7-11; DEVICE NUMBER IN 0-6
  401       0002  DDBBRK= 2       /BREAK MASK
  402       0204  SIBRKM= 204     /SI BREAK MASK
  403       0003  DDBTIM= 3       /TIME THAT DEVICE WAS ASSIGNED
  404       0004  DDBINP= 4       /BUFFER FILL POINTER
  405       0005  DDBINC= 5       /BUFFER FILL COUNT
  406       0006  DDBOUC= 6       /BUFFER EMPTY COUNT

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 11


  407       0007  DDBOUP= 7       /BUFFER EMPTY POINTER
  408             
  409             /FILE CONTROL BLOCK - POINTED TO BY JOBFX, X=0,1,2,3
  410             
  411       0000  FILWPT= 0       /POINTER TO FILE RETRIEVAL WINDOW
  412       0001  FILSCT= 1       /SEGMENT NUMBER OF FIRST WINDOW ENTRY
  413       0002  FILPRO= 2       /FILE READ-ONLY (BIT 9), FILE PRIVILEGED (BIT 11)
  414       0003  FILPAR= 3       /POINTER TO RFILE OR WFILE PARAMETER BLOCK
  415       0004  FILDA=  4       /DISC ADDRESS OF RFILE OR WFILE
  416       0006  FILWC=  6       /-WORD COUNT OF RFILE OR WFILE
  417       0007  FILRES= 7       /POINTER TO FILPIF IN USER AREA
  418             
  419             /FILE  RETRIEVAL WINDOW
  420             /WORD 0:        UFD LINK TO NEXT GROUP OF 7 SEGMENT POINTERS
  421             /WORDS 1-7:     SEVEN SEGMENT ADDRESSES
  422             
  423             /RFILE OR WFILE PARAMETER BLOCK - POINTED AT BY FILPAR
  424             
  425       0000  FILPFN= 0       /FUNCTION: 0603 OR 0605
  426       0001  FILPDX= 1       /DISC EXTENSION
  427       0002  FILPIF= 2       /INTERNAL FILE # (BITS 10-11) AND FIELD # (BITS 7-9)
  428       0003  FILPWC= 3       /-WORD COUNT FOR THIS TRANSFER
  429       0004  FILPCA= 4       /CORE ADDRESS FOR THIS TRANSFER
  430       0005  FILPDA= 5       /DISC ADDRESS
  431       0006  FILPRA= 6       /EXEC RETURN ADDRESS FOR THIS TRANSFER
  432       0007  FILPCT= 7       /POINTER TO FILE CONTROL BLOCK

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 12


  433             /JOB DATA AREA
  434             
  435       0000  JOBSTS= 0               /STATUS
  436                     /STR0
  437       4000          JSRUN=  4000    /RUN BIT
  438       2000          JSEREN= 2000    /USER ERROR ENABLE
  439       1000          JCOMBD= 1000    /LAST TIME THE JOB RAN AS COMPUTE BOUND
  440       0400          JSPRIV= 400     /LIBRARY PROGRAM (HAS PRIVILEGES)
  441       0200          JSHLT=  200     /PROGRAM EXECUTED 'HLT'
  442       0100          JSIOT=  100     /NON-RESIDENT IOT
  443       0040          JSIOTC= 40      /COPY IOT RESULT TO USER
  444       0020          JSRSEN= 20      /PROGRAMMATIC CTRL/C ENABLE
  445       0010          JSINER= 10      /INHIBIT SI ERROR UNTIL NEXT COMMAND
  446             
  447       0200          JSACC=  200
  448       0100          JSBAT=  100     /BATCH-MODE
  449             
  450                     /BITS 9-11 ARE SYSTEM ERROR CODE
  451             
  452       0001          UUOERF= 1       /IOT ERROR
  453       0002          SWPRER= 2       /SWAP READ ERROR
  454       0003          SWPWER= 3       /SWAP WRITE ERROR
  455       0005          DSKERR= 5       /DISC ERROR
  456       0006          HUNGDV= 6       /HUNG DEVICE
  457             
  458                     /STR1
  459       4000          JSTIME= 4000    /TIME IS UP
  460       2000          JSF0=   2000    /FILE 0 NOT BUSY
  461       1000          JSF1=   1000    /FILE 1 IS NOT BUSY
  462       0400          JSF2=   400     /FILE 2 IS NOT BUSY
  463       0200          JSF3=   200     /FILE 3 IS NOT BUSY
  464       0100          JSDEL=  100     /DELIMITER SEEN
  465       0040          JSLPT=  40      /LPT BUFFER IN USE BUT NOT FULL
  466       0020          JSTEL=  20      /OUTPUT BUFFER NOT FULL
  467       0010          JSPTR=  10      /CHARACTER IN READER BUFFER
  468       0004          JSPTP=  4       /PUNCH BUFFER IS NOT FULL
  469       0002          JSERR=  2       /SYSTEM ERROR DETECTED
  470       0001          JSWAIT= 1       /JOB NOT IN WAIT STATE
  471             
  472       0002  JOBSTB= 2               /DEVICE STATUS REGISTER (RK05, DECTAPE, & CARD READER)
  473       0003  JOBWMK= JOBSTB+1        /WAIT MASK
  474       0004  JOBDWT= JOBWMK+1        /JOB DEVICE-WAIT
  475       0005  JOBSRA= JOBDWT+1        /JOB RESTART ADDRESS
  476       0006  JOBERR= JOBSRA+1        /JOB ERROR RESTART ADDRESS
  477       0007  JOBLNK= JOBERR+1        /IOT LINKAGE
  478       0010  JOBSWR= JOBLNK+1        /SWITCH REGISTER
  479       0011  JOBREG= JOBSWR+1        /PC, AC, & LINK (W/MODE, GT, & SC)
  480       0014  JOBEAE= JOBREG+3        /MQ REGISTER
  481       0015  JOBACT= JOBEAE+1        /USER'S ACCOUNT #
  482       0016  JOBRTM= JOBACT+1        /LOW ORDER RUN TIME
  483       0017  JOBRTH= JOBRTM+1        /HIGH ORDER RUN TIME
  484       0020  JOBF0=  JOBRTH+1        /POINTER TO FILE 0 CONTROL
  485       0021  JOBF1=  JOBF0+1         /POINTER TO FILE 1 CONTROL
  486       0022  JOBF2=  JOBF1+1         /POINTER TO FILE 2 CONTROL
  487       0023  JOBF3=  JOBF2+1         /POINTER TO FILE 3 CONTROL
  488       0024  JOBSCH= JOBF3+1         /SCHEDULING CONTROL-WORD
  489             

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 13


  490             
  491             /CORE TABLE CONTROL FLAGS
  492             
  493       4000  FSWP=   4000    /SWAP REQUEST
  494       2000  LOCK=   2000    /LOCK IN CORE
  495       1000  NOTRUN= 1000    /HAS NOT BEEN SCHEDULED TO RUN
  496       0400  FIP=    400     /FILE PHANTOM (NOTE: FIP HAS BEEN ASSUMED EQUAL TO WRDSEG)
  497       0200  SI=     200     /SYSTEM COMMAND INTERPRETER PHANTOM
  498       0140  NOHOLD= 140     /DISC COMPLETION PRIORITY (SKIPPED EVERY 4 TRANSFERS)
  499       0037  CJOB=   37      /MASK FOR JOB NUMBER

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 14


  500             /FIP TABLE DEFINITIONS
  501             
  502       0530  SATSIZ= 530
  503       5600  ENTABL= 5600
  504       6040  UTABLE= JOBMAX^10+ENTABL
  505       6160  RTABLE= JOBMAX^4+UTABLE         /*** CHANGE TO ^10 LATER ***
  506             
  507             /TS8 TABLE DEFINITIONS
  508             
  509       7001  CORTBL= 7001
  510       7010  L2QTB=  CORTBL+7
  511             
  512             /TS8II TABLE DEFINITIONS
  513       0003          IFNZRO CDVIN    <CDVGAP=3>      /ROOM FOR HSR, ?, AND CDR
  514                     IFZERO CDVIN    <CDVGAP=0>
  515       0000          IFZERO DC08A    <DCSIZE=0>
  516                     IFNZRO DC08A    <DCSIZE=400>    /DC08A & 689AG CODE
  517             
  518       0200  OUTREG= 200             /ACTIVE OUTPUT REGISTERS
  519       0226  SKPTBL= OUTREG+NULINE+CONTTY+CDVOUT+2   /START OF IOT SKIP TABLE
  520       0275  SKPTP=  SKPTBL+NULINE+NULINE+CONTTY+CONTTY+CDVIN+CDVGAP+1
  521       0304  RINGIN= SKPTP+CDVOUT+3  /INPUT RING BUFFER
  522       0400  ENDBUF= OUTREG+200      /END OF KEYBOARD INPUT BUFFER
  523       0036  INPUTS= ENDBUF-RINGIN%2 /NUMBER OF POSSIBLE RING-BUFFER ENTRIES
  524       6211  DATFLD= CDF 10          /DATA FIELD SELECT
  525             
  526       2400  DATA1=  2400+DCSIZE     /START OF DATA AREA (ALMOST)
  527       2600  DEVTBL= DATA1+200       /ACTUAL START OF DATA AREA
  528       2640  DEVTBE= DEVTBL+NULINE+NULINE+2
  529       2675  JOBTBL= DEVTBE+35
  530       2722  CLKTBL= JOBTBL+JOBMAX+1
  531       2747  TTYTBL= CLKTBL+JOBMAX+1
  532       2774  PRGTBL= TTYTBL+JOBMAX+1
  533       3061  DSUTBL= PRGTBL+JOBMAX+JOBMAX+JOBMAX-7
  534       2200  OUTDIF= -OUTREG^2+DEVTBL        /FOR LINKING BETWEEN OUTREG & DEVTBL
  535             
  536             IFZERO EAE-20   <MQREG=1>
  537       0001  IFZERO EAE      <IFZERO CPU-2 <MQREG=1>
  538                              IFNZRO CPU-2 <MQREG=0>>
  539             
  540             ///     END OF SELF-DEFINING PARAMETERS -- START OF MONITOR LINKAGES    ///
  541             
  542             /A VERY FEW SELDOM CHANGED POINTERS
  543             
  544       4201  AUTOST= 4201    /AUTOMATIC SYSTEM RESTART ENTRANCE TO 'INIT'
  545       7720  FIPBLK= 7720    /THE I/O TRANSFER BLOCK FOR 'FIP'
  546             
  547             /FREQUENTLY CHANGED POINTERS IN TS8 & TS8II; THESE ARE UPDATED
  548             /BY THE 'LINK.TE' TECO MACRO.  IN THE SOURCE, THEY ARE FLAGGED
  549             /FOR THE MACRO TO FIND BY '/*'.
  550             

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 15


  551             
  552       5200  BLT0=   5200    /BLOCK TRANSFER
  553       0033  CLK1=   0033    /SYSTEM DAYCLOCK (LOW)
  554       0034  CLK2=   0034    / (HIGH)
  555       0030  CONDBA= 0030    /POINTER TO DEVTBL ENTRY IN USE
  556       0031  CONDDB= 0031    /POINTER TO DDB IN USE
  557       1317  CORSRC= 1317    /CORTBL SEARCH
  558       7001  CORTBL= 7001    /CORE ALLOCATION TABLE (FIXED)
  559       0035  DATE=   0035    
  560       7045  DEVCHK= 7045    /CHECK DEVICE OWNERSHIP
  561       0036  DSBUSY= 0036    /DISC BUSY COUNT
  562       0535  DTDEF0= 0535    /DECTAPE ERROR REGISTRATION
  563       0541  DTDSF0= 0541    /DECTAPE BUFFER TO SWAP AREA
  564       0527  DTDSK=  0527    /DECTAPE DISC COMPLETION
  565       0551  DTL20=  0551    /DECTAPE LEVEL-2 DISPATCH
  566       3671  DTRKHG= 3671    /ERROR SETTING FROM FIELD 1
  567       5333  ENDIOT= 5333    /JMP TO EXIT HANDLER
  568       0277  F1RTN=  0277    /RETURN FROM FIELD 1 INTERRUPT HANDLERS
  569       0057  FIPJOB= 0057    /JOB REQUESTING 'FIP'
  570       0040  FRECNT= 0040    /AVAILABLE FREE-CORE BLOCKS
  571       0037  FREE=   0037    /LINK TO FIRST FREE-CORE BLOCK
  572       1400  GETB=   1400    /GET A FREE-BLOCK
  573       1440  GETDB0= 1440    /GET DDB BLOCK
  574       7200  GETJTB= 7200    /GET ADDRESS OF LINKED ENTRY
  575       6200  GIR00=  6200    /GENERAL INPUT ROUTINE
  576       0062  JOB=    0062    /CURRENTLY ACTIVE JOB
  577       4051  L2EXIT= 4051    /LEVEL-2 EXIT ROUTINE
  578       0041  L2SF=   0041    /LEVEL 2: SAVED FIELD AND MODE
  579       0042  L2SV0=  0042    /LEVEL 2: SAVED PC
  580       2631  L2TIM3= 2631    /RETURN FROM 'TIMER' ROUTINE
  581       5533  NFSEGS= 5533    /NUMBER OF FREE DISC SEGMENTS
  582       2340  OUTIOT= 2340    /INCREMENT 'ACFLG' TO SIGNAL OUTPUT
  583       5764  OVERL1= 5764    
  584       2364  OVERLA= 2364    /DISC TERMINATION FOR OVERLAYS
  585       0572  OVRLA1= 0572    /SYSTEM OVERLAY COMPLETION DISPATCHER
  586       1203  PRINT0= 1203    /TYPE CHARACTER
  587       1473  QUEUE0= 1473    /REGISTER LEVEL-2 FOR FIELD 1
  588       3652  READFI= 3652    /SI FILE-LOADER
  589       4172  REDO0=  4172    /'REDO' AND IOT
  590       3600  RELOAD= 3600    /AUTO-RESTART STARTUP
  591       0600  RETB=   0600    /FREE A CORE-BLOCK
  592       3676  RKL20=  3676    /LEVEL-2 DISPATCH FOR RK05
  593       3640  SCHED0= 3640    /'RSCHED' ENTRY
  594       4400  SICLR=  4400    /BUFFER CLEAR ROUTINE
  595       0020  SIDATA= 0020    /SI CONTROL WORDS
  596       2357  SLEEP=  2357    /PUT THE JOB TO SLEEP
  597       2621  TIMCDR= 2621    /CARD READ TIMER
  598       0032  TTCHAR= 0032    /CHARACTER FOR FEED ROUTINES
  599       0172  UUDF=   0172    /USER FIELD SELECT
  600       4404  UUOERR= 4404    /USER IOT ERROR
  601       0336  UUOEX1= 0336    /IOT EXIT ROUTINE
  602       3006  WSCHED= 3006    /'WAIT' ENTRY
  603       1720  CDL11=  1720    /LEVEL-1 INTERRUPT FOR CARD READER
  604       1704  CDL21=  1704    /LEVEL-2 HANDLER FOR CARD READER
  605       0020  CJOBDA= 0020    /CURRENT JOB DATA POINTER
  606       0027  DTJOB=  0027    /JOB HOLDING DECTAPE CONTROLLER
  607       0601  DTL11=  0601    /LEVEL-1 INTERRUPT FOR DECTAPE

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 16


  608       1004  DTL21=  1004    /DECTAPE LEVEL-2 COMPLETION
  609       0177  F1BUF=  0177    /DDB EMPTY BLOCK
  610       2512  F1DTST= 2512    /DECTAPE STOP ROUTINE
  611       0176  F1ECNT= 0176    /DDB EMPTY COUNT
  612       0036  F1OFFJ= 0036    /SYSTEM OFF/ON COMMAND FLAG
  613       0175  F1TCNT= 0175    /DDB CHARACTER COUNT
  614       0045  RKJOB=  0045    /JOB HOLDING RK05 CONTROLLER
  615       2000  RKL11=  2000    /LEVEL-1 INTERRUPT FOR RK05
  616       1615  RKL21=  1615    /LEVEL-2 HANDLER FOR RK05
  617       2200  TIMER0= 2200    /FIELD 1 TIMER ROUTINE
  618       2445  UPEEK1= 2445    /FIELD 1 PEEK IOT CODE
  619       0174  UPTIM1= 0174    /SYSTEM UPTIME
  620       0173  UPTIM2= 0173
  621       1735  UUCDR=  1735    /UUO ENTRY FOR CARD READER
  622       1415  UUDTRK= 1415    /UUO ENTRY FOR DECTAPE & RK05
  623       7730  WINBAS= 7730    /BASIC RETRIEVAL WINDOW

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 17


  624             
  625             /INIT - UWM VERSION 25
  626             /
  627             /COPYRIGHT 1971, 1975           DIGITAL EQUIPMENT CORPORATION
  628             /                               MAYNARD, MASSACHUSETTS
  629             /
  630             /EXTENSIVELY MODIFIED AND CORRECTED BY
  631             /       RICHARD BARTLEIN, 1974, 1976
  632             /       UNIVERSITY OF WISCONSIN - MILWAUKEE
  633             
  634                     FIELD 2
  635       0000          *0
  636 20000 5401          JMP I .+1       /JUST IN CASE WE GET HERE
  637 20001 4216          SUPER
  638       0010          *10
  639 20010 0007  T8AX1,  .-1     /680 SERVICE
  640 20011 0010  T8AX2,  .-1     /680 SERVICE
  641 20012 0011  T8AX3,  .-1     /680 SERVICE
  642 20013 0012  L2Q,    .-1     /LEVEL 2 QUEUE
  643 20014 0013  L2QE,   .-1     /LEVEL 2 QUEUE EMPTY POINTER
  644 20015 0015  AXS1,   .
  645 20016 0016  AXS2,   .
  646 20017 0016  DSKPTR, .-1     /DISC REQUEST QUEUE POINTER
  647             
  648             /CONSTANTS
  649 20020 0002  C0002,  2
  650 20021 0003  C0003,  3
  651 20022 0007  C0007,  7
  652 20023 0010  C0010,  10
  653 20024 0100  C0100,  100
  654 20025 0400  C0400,  400
  655 20026 6203  C6203,  6203
  656 20027 7770  C7770,  -10
  657 20030 7774  C7774,  -4
  658 20031 7777  C7777,  -1
  659 20032 7401  MC0377, -377
  660             
  661 20033 0000  AUTOSW, 0       / =0, FOR MANUAL RESTART
  662 20034 0000  CHAR,   0       /CHAR & NUMHO MUST REMAIN ADJACENT
  663 20035 0000  NUMHO,  0
  664 20036 0000          0
  665 20037 0000          0
  666 20040 7754  CJOBMX, -JOBMAX
  667 20041 0033  CLK1A,  CLK1
  668 20042 0034  CLK2A,  CLK2
  669 20043 0030  CONDVA, CONDBA
  670 20044 0000  CORCNT, 0
  671 20045 7000  CORTBA, CORTBL-1
  672 20046 3061  DSUTBA, DSUTBL
  673 20047 2550  INBUF,  INBUFA
  674 20050 0000  SVCLK1, 0       /SAVED SYSTEM CLOCK
  675 20051 0000  SVCLK2, 0
  676 20052 0000  SVDATE, 0       /SAVED SYSTEM DATE
  677 20053 0000  SVUPT1, 0
  678 20054 0000  SVUPT2, 0
  679 20055 0005  SWBASE, SWDEX           /SWAP TRACT FOR JOB 1
  680             

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 18


  681 20056 0056  T8SL,   .
  682 20057 0057  T8NL,   .               /-NUMBER OF LINES
  683 20060 0060  T8LN,   .
  684             /NEXT 17 LOC USED BY 680 SERVICE AS DEFINED BELOW
  685 20061 0061  T8INFL, .       /INPUT READY FLAG
  686 20062 0062  T8BFK,  .       /TO RESET INPUT BUFFER POINTER
  687 20063 0017  T8NUML, NULINE  /NUMBER OF LINES
  688 20064 0064  T8K0,   .
  689 20065 0065  T8K7,   .       /K FOR 1ST OUTPUT BUFFER
  690 20066 0066  T8OUTK, .       /POINTER TO FIRST OUTPUT BUFFER
  691 20067 0067  T8OTK2, .       /POINTER TO SECOND OUTPUT BUFFER
  692 20070 0070  T8K14,  .
  693 20071 0071  T8K36,  .       /K FOR 2ND OUTPUT BUFFER
  694 20072 0072  T8CNT1, .       /HOLD MAJOR LOOP COUNTER
  695 20073 0073  T8CNT2, .       /MINOR LOOP COUNTER
  696 20074 0074  T8CNT3, .       /COUNTER FOR INPUT BUFFER
  697 20075 0075  T8K8,   .               /TO ENTER COMMON SUBROUTINE
  698 20076 0076  T8K99,  .
  699 20077 0077  T8SOUT, .
  700 20100 0100  KCHAR,  .               /CTY INPUT CHARACTER
  701 20101 0101  TCHAR,  .       /CTY OUTPUT CHARACTER
  702             
  703             /SUBROUTINE DISPATCHES
  704             
  705       4102  CHDF=   JMS .           /CHANGE TO CURRENT FIELD
  706 20102 0000  CHDFA,  0
  707 20103 6223  INIF,   CDI INFLD
  708 20104 5502          JMP I CHDFA
  709             
  710       4505  COMGET= JMS I .
  711 20105 2136          COMGE0
  712       4506  DISC=   JMS I .
  713 20106 1600          DISC0
  714       4507  YESNO=  JMS I .
  715 20107 2121          YESNO0          /READ A 'Y' OR 'N'
  716       4510  MESSAG= JMS I .
  717 20110 0600          MESSA0          /TYPE A PACKED MESSAGE
  718       4511  NUMBIN= JMS I .
  719 20111 2211          NUMBI0          /READ IN A NUMBER
  720       4512  OCTIN=  JMS I .
  721 20112 2336          OCTIN0
  722       4513  PRINT=  JMS I .
  723 20113 1203          PRINT0          /QUEUE CHARACTERS FOR PRINTING
  724       4514  TYPE=   JMS I .
  725 20114 0537  TYPEA,  OUT
  726       4515  GETIN=  JMS I .
  727 20115 1656          GETIN0
  728       5516  WAIT=   JMP I .
  729 20116 3006          WSCHED          /RESCHEDULE

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 19


  730       0200          *200
  731             /
  732             /PROGRAM TO OPEN AND MODIFY SINGLE DISC REGISTERS
  733             /
  734 20200 4510  DISCLK, MESSAG          /TYPE A CR-LF
  735 20201 0713           CRLF
  736 20202 4263          JMS OTIN        /GET AN ADDRESS
  737 20203 5200          JMP DISCLK      /: IS ONLY VALID TERMINATOR
  738 20204 5200          JMP DISCLK
  739 20205 4662  DISPLA, JMS I PSPACE
  740 20206 4653          JMS I POPEN     /GET THE WORD FROM DISC
  741 20207 1360          TAD OPNREG
  742 20210 4660          JMS I PHACK     / & TYPE IT OUT
  743 20211 4662          JMS I PSPACE
  744 20212 4656          JMS I PSAVE     /THEN SAVE IT FOR A MOMENT
  745 20213 4263          JMS OTIN        /GET NEW VALUE, IF ANY
  746 20214 5217          JMP SHUT        /<CR> - CLOSE REGISTER
  747 20215 5226          JMP CLSOPN      /<LF> - CLOSE & OPEN NEXT REGISTER
  748 20216 5205          JMP DISPLA      /: - TREAT AS NEW DISC ADDRESS
  749             
  750 20217 1363  SHUT,   TAD INPUT       /WAS REGISTER ALTERED?
  751 20220 7710          SPA CLA
  752 20221 5200          JMP DISCLK      /NO - JUST GET NEXT ADDRESS
  753 20222 1357          TAD VALUE1      /YES - CHANGE THE DISC LOCATION
  754 20223 3360          DCA OPNREG
  755 20224 4654          JMS I PCLOSE
  756 20225 5200          JMP DISCLK      /NOW GET NEXT ADDRESS
  757 20226 1363  CLSOPN, TAD INPUT       /WAS REGISTER ALTERED?
  758 20227 7710          SPA CLA
  759 20230 5234          JMP .+4         /NO - JUST OPEN THE NEXT
  760 20231 1357          TAD VALUE1      /YES - WRITE OUT THE NEW VALUE
  761 20232 3360          DCA OPNREG
  762 20233 4654          JMS I PCLOSE
  763 20234 1252          TAD KCR         /NOW TYPE <CR>
  764 20235 4514          TYPE
  765 20236 1252          TAD KCR
  766 20237 4514          TYPE
  767 20240 4657          JMS I PRESTO    /GET THE CURRENT REGISTER ADDRESS
  768 20241 4655          JMS I PNXTAD    / AND INCREMENT IT BY 1
  769 20242 1356          TAD VALUE       /THEN TYPE IT OUT
  770 20243 4660          JMS I PHACK
  771 20244 1357          TAD VALUE1
  772 20245 4660          JMS I PHACK
  773 20246 1251          TAD KCOLON
  774 20247 4514          TYPE
  775 20250 5205          JMP DISPLA      /THEN LOOK FOR ANY CHANGE
  776             
  777 20251 0272  KCOLON, ":
  778 20252 0215  KCR,    215
  779 20253 0400  POPEN,  XOPN
  780 20254 0411  PCLOSE, CLOSE
  781 20255 0554  PNXTAD, NEXTAD
  782 20256 0562  PSAVE,  SAVE
  783 20257 0570  PRESTO, RESTOR
  784 20260 0457  PHACK,  HACK
  785 20261 0503  PIN,    IN
  786 20262 0545  PSPACE, SPACE

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 20


  787             /ROUTINE TO INPUT AN OCTAL NUMBER
  788             /ECHOES INPUT IF IT WAS VALID
  789             /CALL:  JMS OTIN
  790             /        CR TERMINATOR
  791             /        LF TERMINATOR
  792             /        : TERMINATOR
  793             /
  794             /RETURNS WITH "DOUBLE PRECISION" INPUT IN
  795             /VALUE AND VALUE1
  796             /INPUT=0 IF THERE WAS ANY, ELSE -1
  797             
  798 20263 0000  OTIN,   0
  799 20264 7240          CLA CMA
  800 20265 3363          DCA INPUT       /NO INPUT YET
  801 20266 3356          DCA VALUE       /CLEAR THE NUMBER
  802 20267 3357          DCA VALUE1
  803 20270 7410          SKP
  804 20271 4514          TYPE
  805 20272 4661  LISTEN, JMS I PIN
  806 20273 3361          DCA YCHAR
  807             /
  808             /NOW CHECK TO SEE IF THE INPUT HAD A VALID TERMINATOR
  809 20274 1361          TAD YCHAR
  810 20275 1364          TAD KMCOLON
  811 20276 7650          SNA CLA         /COLON?
  812 20277 5353          JMP COEXIT      /YES
  813 20300 1361          TAD YCHAR
  814 20301 1366          TAD KMLF
  815 20302 7650          SNA CLA         /LINE-FEED?
  816 20303 5354          JMP LFEXIT      /YES
  817 20304 1361          TAD YCHAR
  818 20305 1367          TAD KMCR
  819 20306 7650          SNA CLA         /CARRIAGE RETURN?
  820 20307 5355          JMP CREXIT      /YES
  821 20310 1361          TAD YCHAR
  822 20311 1365          TAD KMCX
  823 20312 7650          SNA CLA         /CTRL/X?
  824 20313 5772          JMP I XDDTA     /YES - ZING OFF TO XDDT
  825             /
  826             /NOT A VALID TERMINATOR - IS IT A VALID OCTAL DIGIT?
  827 20314 1361          TAD YCHAR
  828 20315 1370          TAD KMZERO
  829 20316 7710          SPA CLA         /LEGAL OCTAL DIGIT?
  830 20317 5272          JMP LISTEN      /NO - IGNORE IT
  831 20320 1361          TAD YCHAR
  832 20321 1371          TAD KMEIGHT
  833 20322 7700          SMA CLA
  834 20323 5272          JMP LISTEN
  835             /
  836             /COMES HERE WITH A VALID OCTAL DIGIT
  837 20324 3363          DCA INPUT       /INDICATE 'INPUT FOUND'
  838             /
  839             /NOW ADD THIS DIGIT TO THE DOUBLE PRECISION TOTAL
  840 20325 1361          TAD YCHAR
  841 20326 0022          AND C0007       /CONVERT THE DIGIT TO OCTAL
  842 20327 3362          DCA XCHAR
  843             /

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 21


  844             /FIRST, SHIFT HIGH-ORDER WORD LEFT ONE PLACE
  845 20330 1356          TAD VALUE
  846 20331 7104          CLL RAL
  847 20332 7104          CLL RAL
  848 20333 7104          CLL RAL
  849 20334 3356          DCA VALUE
  850             /
  851             /NOW GET LEFT-MOST LO-ORDER DIGIT
  852 20335 1357          TAD VALUE1
  853 20336 7006          RTL
  854 20337 7006          RTL
  855 20340 0022          AND C0007
  856             /
  857             /MOVE THIS DIGIT INTO THE HIGH ORDER WORD
  858 20341 1356          TAD VALUE
  859 20342 3356          DCA VALUE
  860             /
  861             /NOW ADD NEW INPUT DIGIT
  862 20343 1357          TAD VALUE1
  863 20344 7104          CLL RAL
  864 20345 7104          CLL RAL
  865 20346 7104          CLL RAL
  866 20347 1362          TAD XCHAR
  867 20350 3357          DCA VALUE1
  868 20351 1361          TAD YCHAR
  869 20352 5272          JMP LISTEN
  870             
  871 20353 2263  COEXIT, ISZ OTIN
  872 20354 2263  LFEXIT, ISZ OTIN
  873 20355 5663  CREXIT, JMP I OTIN
  874 20356 0000  VALUE,  0
  875 20357 0000  VALUE1, 0
  876 20360 0000  OPNREG, 0
  877 20361 0000  YCHAR,  0
  878 20362 0000  XCHAR,  0
  879 20363 7777  INPUT,  -1      /=-1, IF NO INPUT; =0, IF INPUT
  880 20364 7506  KMCOLO, -":
  881 20365 7550  KMCX,   -230    /CTRL/X
  882 20366 7566  KMLF,   -212
  883 20367 7563  KMCR,   -215
  884 20370 7520  KMZERO, -"0
  885 20371 7510  KMEIGH, -"8
  886 20372 7000  XDDTA,  7000    /XDDT ADDRESS

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 22


  887                     PAGE
  888             /ROUTINE TO OPEN A DISC LOCATION (REGISTER)
  889 20400 0000  XOPN,   0
  890 20401 1655          TAD I PVALUE    /SET THE DISC ADDRESS
  891                     IFZERO RF08-40 <
  892                     AND K177
  893                     CLL RTL; RTL; RTL
  894                     >
  895 20402 3253          DCA DISCHI
  896 20403 1656          TAD I PVALU1
  897 20404 3252          DCA DISCLO
  898 20405 1210          TAD RDIOT       /SET FOR READ
  899 20406 4216          JMS DISK
  900 20407 5600          JMP I XOPN
  901 20410 6603  RDIOT,  DMAR
  902             
  903             /ROUTINE TO CLOSE A DISC REGISTER
  904 20411 0000  CLOSE,  0
  905 20412 1215          TAD WRIOT       /SET FOR WRITE
  906 20413 4216          JMS DISK
  907 20414 5611          JMP I CLOSE
  908 20415 6605  WRIOT,  DMAW
  909             
  910             /DISC TRANSFER ROUTINE
  911 20416 0000  DISK,   0
  912 20417 3237          DCA DLKIOT      /READ OR WRITE IOT
  913 20420 6224          RIF
  914 20421 1223          TAD K6201
  915 20422 3103          DCA INIF        /SET UP 'CHDF' ROUTINE
  916                     IFZERO RK8E <
  917 20423 6201  K6201,  CDF             /DOWN TO FIELD 0
  918 20424 7240          CLA CMA         /MOVING JUST ONE WORD
  919 20425 3647          DCA I P7750
  920 20426 1251          TAD PREGAD
  921 20427 3650          DCA I P7751
  922 20430 4102          CHDF
  923 20431 6224          RIF
  924                     IFZERO RF08-40 <
  925                     TAD DISCHI      /GET THE DISC EXTENSION
  926                     >
  927 20432 6615          DIML            /SET FIELD (& EXTENSION)
  928                     IFZERO RF08 <
  929 20433 1253          TAD DISCHI      /GET HIGH-ORDER ADDRESS
  930 20434 6643          DXAL
  931                     >
  932 20435 7200          CLA             /DEAL DOESN'T CLEAR AC
  933 20436 1252          TAD DISCLO      /GET LO-ORDER ADDRESS
  934 20437 0000  DLKIOT, 0               /DMAR OR DMAW
  935 20440 6621          DFSE            /ANY ERRORS?
  936                     IFZERO RF08 <
  937 20441 7610          SKP CLA         /NO
  938 20442 7402          HLT             /YES - JUST DIE
  939 20443 6622          DFSC            /I/O FINISHED?
  940 20444 5240          JMP .-4         /NO - JUST WAIT
  941                     >
  942                     IFZERO RF08-40 <
  943                     HLT             /YES - JUST DIE

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 23


  944                     DFSC            /FINISHED?
  945                     JMP .-3         /NO - JUST WAIT
  946                     >
  947 20445 6601          DCMA            /CLEAR THE DISC FLAG
  948 20446 5616          JMP I DISK      / AND RETURN
  949             
  950 20447 7750  P7750,  7750
  951 20450 7751  P7751,  7751
  952 20451 0357  PREGAD, OPNREG-1        /REGISTER VALUE
  953                     >
  954                     IFNZRO RK8E <
  955                     TAD DISCLO      /SET THE DATA POINTER
  956                     DCA DISK3
  957                     TAD DLKIOT      /GET THE IOT
  958                     RTR
  959                     SZL CLA         /IS THIS A WRITE?
  960                     JMP .+5         /NO
  961                     TAD I PREGAD    / & SET THE NEW VALUE
  962             K6201,  CDF
  963                     DCA I DISK3
  964                     CHDF
  965                     TAD DISCHI      /SET THE DISC EXTENSION
  966                     CLL RTL; RAL
  967                     DCA DISKAD
  968                     DISC            /DO THE I/O
  969             DLKIOT,  0      /FUNCTION
  970             DISKAD,  0      /DISC EXT. & FIELD
  971                     HLT             /ERROR - JUST DIE
  972                     CDF             /CHANGE TO THE DATA FIELD
  973                     TAD I DISK3     / & GET THE REGISTER CONTENTS
  974                     CHDF
  975                     DCA I PREGAD    / & SAVE THE VALUE
  976                     JMP I DISK      /THEN RETURN
  977             DISK3,  0
  978             PREGAD, OPNREG          /REGISTER VALUE
  979                     >
  980             
  981 20452 0000  DISCLO, 0
  982 20453 0000  DISCHI, 0
  983 20454 0177  K177,   177
  984 20455 0356  PVALUE, VALUE
  985 20456 0357  PVALU1, VALUE1

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 24


  986             /ROUTINE TO TYPE THE 4 OCTAL DIGITS IN THE ACC
  987             /ON THE TELEPRINTER
  988             
  989 20457 0000  HACK,   0
  990 20460 7106          CLL RTL
  991 20461 7006          RTL
  992 20462 3301          DCA XHACK
  993 20463 1030          TAD C7774
  994 20464 3300          DCA XCNT        /SET DIGIT COUNTER
  995 20465 1301  YHACK,  TAD XHACK
  996 20466 0022          AND C0007
  997 20467 1302          TAD K260
  998 20470 4514          TYPE
  999 20471 1301          TAD XHACK
 1000 20472 7004          RAL
 1001 20473 7006          RTL
 1002 20474 3301          DCA XHACK
 1003 20475 2300          ISZ XCNT
 1004 20476 5265          JMP YHACK
 1005 20477 5657          JMP I HACK
 1006 20500 0000  XCNT,   0
 1007 20501 0000  XHACK,  0
 1008 20502 0260  K260,   260
 1009             
 1010             /ROUTINE TO GET A CHAR FROM THE KEYBOARD
 1011 20503 0000  IN,     0
 1012 20504 7200          CLA
 1013 20505 6031          KSF
 1014 20506 5305          JMP .-1
 1015 20507 6036          KRB
 1016 20510 0254          AND K177        /ZAP THE PARITY BIT
 1017 20511 7450          SNA
 1018 20512 5304          JMP IN+1        /IGNORE NULLS
 1019 20513 1333          TAD K200
 1020 20514 3362          DCA SAVE
 1021 20515 1362          TAD SAVE
 1022 20516 4514          TYPE
 1023 20517 1362          TAD SAVE
 1024 20520 1335          TAD MLCA
 1025 20521 7510          SPA             /IS IT LOWER-CASE?
 1026 20522 5330          JMP IN1         /NO
 1027 20523 1336          TAD MLCZ
 1028 20524 7540          SMA SZA
 1029 20525 5330          JMP IN1         /NO
 1030 20526 1334          TAD LCFIX       /YES - CONVERT IT TO UPPER
 1031 20527 3362          DCA SAVE
 1032 20530 7300  IN1,    CLA CLL
 1033 20531 1362          TAD SAVE
 1034 20532 5703          JMP I IN        /RETURN W/ AC = CHAR
 1035 20533 0200  K200,   200
 1036 20534 0332  LCFIX,  372-40
 1037 20535 7437  MLCA,   -341    /LOWER-CASE "A"
 1038 20536 7747  MLCZ,   341-372 / AND "Z"
 1039             
 1040             /ROUTINE TO TELEPRINT A CHAR
 1041             
 1042 20537 0000  OUT,    0

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 25


 1043 20540 6046          TLS
 1044 20541 7200          CLA
 1045 20542 6041          TSF
 1046 20543 5342          JMP .-1
 1047 20544 5737          JMP I OUT
 1048             
 1049             /TYPE TWO SPACES
 1050             
 1051 20545 0000  SPACE,  0
 1052 20546 1353          TAD KSPACE
 1053 20547 4514          TYPE
 1054 20550 1353          TAD KSPACE
 1055 20551 4514          TYPE
 1056 20552 5745          JMP I SPACE
 1057 20553 0240  KSPACE, 240
 1058             
 1059             /ROUTINE TO INCREMENT THE DOUBLE-PRECISON VALUE
 1060             /IN VALUE, VALUE1
 1061             
 1062 20554 0000  NEXTAD, 0
 1063 20555 7200          CLA
 1064 20556 2656          ISZ I PVALU1
 1065 20557 5754          JMP I NEXTAD
 1066 20560 2655          ISZ I PVALUE
 1067 20561 5754          JMP I NEXTAD
 1068             
 1069             /ROUTINE TO SAVE VALUE, VALUE1
 1070 20562 0000  SAVE,   0
 1071 20563 1655          TAD I PVALUE
 1072 20564 3376          DCA SAVE1
 1073 20565 1656          TAD I PVALU1
 1074 20566 3377          DCA SAVE2
 1075 20567 5762          JMP I SAVE
 1076             
 1077             /ROUTINE TO RESTORE VALUE, VALUE1
 1078 20570 0000  RESTOR, 0
 1079 20571 1376          TAD SAVE1
 1080 20572 3655          DCA I PVALUE
 1081 20573 1377          TAD SAVE2
 1082 20574 3656          DCA I PVALU1
 1083 20575 5770          JMP I RESTOR
 1084 20576 0000  SAVE1,  0
 1085 20577 0000  SAVE2,  0

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 26


 1086                     PAGE
 1087             /ROUTINE TO TYPE PACKED MESSAGES.
 1088             /THE CHARACTER '_' CAUSES CR-LF TO BE TYPED.
 1089             /CALLING SEQUENCE:
 1090             /       MESSAG
 1091             /        ADDRESS OF PACKED-MESSAGE
 1092             /       RETURN
 1093             
 1094 20600 0000  MESSA0, 0
 1095 20601 1600          TAD I MESSA0    /GET THE MESSAGE ADDRESS
 1096 20602 3235          DCA MSGPTR
 1097 20603 2200          ISZ MESSA0
 1098 20604 1635  MSGLP,  TAD I MSGPTR
 1099 20605 7112          CLL RTR; RTR; RTR
      20606 7012
      20607 7012
 1100 20610 4215          JMS MSGPRT      /TYPE LEFT CHARACTER
 1101 20611 1635          TAD I MSGPTR
 1102 20612 4215          JMS MSGPRT      / AND THEN THE RIGHT-HAND
 1103 20613 2235          ISZ MSGPTR
 1104 20614 5204          JMP MSGLP
 1105             
 1106 20615 0000  MSGPRT, 0
 1107 20616 0236          AND MSG77       /ZAP ANY BAD BITS
 1108 20617 7450          SNA             /ARE WE DONE?
 1109 20620 5600          JMP I MESSA0    /YES - RETURN
 1110 20621 1242          TAD MSGM37
 1111 20622 7450          SNA             /IS IT '_'?
 1112 20623 5231          JMP MSGCR       /YES - TYPE <CR-LF>
 1113 20624 7510          SPA             /IS IT ALPHABETIC?
 1114 20625 1024          TAD C0100       /YES - ADD IN BIT
 1115 20626 1241          TAD MSG237      / & ADD BACK 37 & PARITY
 1116 20627 4514  MSGPR1, TYPE            /TYPE THE CHARACTER
 1117 20630 5615          JMP I MSGPRT
 1118             
 1119 20631 1240  MSGCR,  TAD MSG215      /'_' MEANS <CR-LF>
 1120 20632 4514          TYPE
 1121 20633 1237          TAD MSG212
 1122 20634 5227          JMP MSGPR1      /GO SHARE SOME CODE
 1123             
 1124 20635 0000  MSGPTR, 0
 1125 20636 0077  MSG77,  77
 1126 20637 0212  MSG212, 212
 1127 20640 0215  MSG215, 215
 1128 20641 0237  MSG237, 237
 1129 20642 7741  MSGM37, -37
 1130             
 1131 20643 3737  AUTOMS, TEXT /__SYSTEM CRASH: /
      20644 2331
      20645 2324
      20646 0515
      20647 4003
      20650 2201
      20651 2310
      20652 7240
      20653 0000
 1132 20654 4340  CORMES, TEXT /# USER FIELDS - /

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 27


      20655 2523
      20656 0522
      20657 4006
      20660 1105
      20661 1404
      20662 2340
      20663 5540
      20664 0000
 1133 20665 3722  RDORWT, TEXT /_READ OR WRITE/
      20666 0501
      20667 0440
      20670 1722
      20671 4027
      20672 2211
      20673 2405
      20674 0000
 1134 20675 0611  FIELD1, TEXT /FIELD # - /
      20676 0514
      20677 0440
      20700 4340
      20701 5540
      20702 0000
 1135 20703 2422  TRACK,  TEXT /TRACK # - /
      20704 0103
      20705 1340
      20706 4340
      20707 5540
      20710 0000
 1136 20711 1717  OOPS,   TEXT /OOPS_/
      20712 2023
      20713 3700
 1137       20713  CRLF=   .-1
 1138 20714 2205  FIPREM, TEXT /REFRESH??/
      20715 0622
      20716 0523
      20717 1077
      20720 7700
 1139 20721 1517  DATMES, TEXT /MONTH-DAY-YEAR: /
      20722 1624
      20723 1055
      20724 0401
      20725 3155
      20726 3105
      20727 0122
      20730 7240
      20731 0000
 1140 20732 1022  TIMESS, TEXT /HR:MIN - /
      20733 7215
      20734 1116
      20735 4055
      20736 4000
 1141       20735  DASH=   .-2
 1142 20737 1417  DDTMES, TEXT /LOAD XDDT? /
      20740 0104
      20741 4030
      20742 0404
      20743 2477

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 28


      20744 4000
 1143 20745 3714  LDXRS,  TEXT /_LOAD, DUMP, START?? /
      20746 1701
      20747 0454
      20750 4004
      20751 2515
      20752 2054
      20753 4023
      20754 2401
      20755 2224
      20756 7777
      20757 4000

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 29


 1144                     PAGE
 1145             
 1146             /SYSTEM INITIALIZATION
 1147             
 1148 21000 7300  SYSINI, CLA CLL
 1149 21001 4102          CHDF            /SET THIS FIELD
 1150 21002 4616          JMS I SYSPER
 1151 21003 4506          DISC            /LOAD FIELD 0
 1152 21004 6603           DMAR
 1153 21005 0030           TS8DEX
 1154 21006 5203          JMP .-3         /ERROR - TRY AGAIN
 1155 21007 1220          TAD DVTB
 1156 21010 3217          DCA INIT0
 1157 21011 1617  SYSI1,  TAD I INIT0
 1158 21012 3102          DCA CHDFA
 1159 21013 4502          JMS I CHDFA
 1160 21014 2217          ISZ INIT0
 1161 21015 5211          JMP SYSI1
 1162             
 1163 21016 4010  SYSPER, PERSET
 1164 21017 0000  INIT0,  0               /VARIABLE DVTB POINTER
 1165             
 1166 21020 1021  DVTB,   .+1
 1167 21021 3056          CLEAR           /READ MONITOR II INTO DATFLD
 1168 21022 1412          CORINI
 1169 21023 1200          T8INI
 1170 21024 2454          DSKINI
 1171 21025 1031          CLKINI
 1172 21026 4307          RDYMSG
 1173                             IFNZRO BILLNG <
 1174 21027 1053          FRCJOB
 1175                             >
 1176 21030 1167          START
 1177             
 1178             /INITIALIZE THE TIME AND DATE; IF WE'RE DOING AN AUTO-RESTART
 1179             /WE USE THE TIME AND DATE FROM THE PREVIOUS SYSTEM.  IF WE
 1180             /AREN'T RESTARTING FROM A CRASH, WE RESTORE THE SYSTEM
 1181             /UPTIME.
 1182 21031 0000  CLKINI, 0
 1183 21032 4102          CHDF
 1184 21033 1033          TAD AUTOSW
 1185 21034 7640          SZA CLA         /DOING AN AUTOMATIC RESTART?
 1186 21035 5243          JMP CLKIN1      /YES - DON'T RESTORE THE UPTIME
 1187 21036 1053          TAD SVUPT1
 1188 21037 6211          DATFLD
 1189 21040 3651          DCA I UPTM1A    /NO - RESTORE THE SYSTEM UPTIME
 1190 21041 1054          TAD SVUPT2
 1191 21042 3652          DCA I UPTM2A
 1192 21043 4102  CLKIN1, CHDF
 1193 21044 4647          JMS I CLKDAT
 1194 21045 4650          JMS I CLKTIM
 1195 21046 5631          JMP I CLKINI
 1196             /
 1197 21047 2033  CLKDAT, DATEIN
 1198 21050 2502  CLKTIM, TIMEIN
 1199 21051 0174  UPTM1A, UPTIM1
 1200 21052 0173  UPTM2A, UPTIM2

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 30


 1201             
 1202                             IFNZRO BILLNG <
 1203             /ROUTINE TO FORCE THE HIGHEST CONFIGURED KEYBOARD UP;
 1204             /THIS IS DONE JUST BEFORE THE SYSTEM IS ACTUALLY STARTED
 1205             /AND IS NORMALLY USED TO BRING 'BATCH' BACK ONLINE.
 1206             
 1207 21053 0000  FRCJOB, 0
 1208 21054 4102          CHDF
 1209 21055 1302          TAD FRCDEV
 1210 21056 6202          CIF
 1211 21057 4706          GETDDB          /GET AN INPUT DDB
 1212 21060 5653          JMP I FRCJOB    /NONE THERE; SHOULD CRASH HERE, BUT JUST RETURN
 1213 21061 6211          DATFLD
 1214 21062 1702          TAD I FRCDEV
 1215 21063 3102          DCA CHDFA       /NOW POINTS TO THE DDB ITSELF
 1216 21064 1502          TAD I CHDFA
 1217 21065 1305          TAD FRCFLG
 1218 21066 3502          DCA I CHDFA     /SET THE 'DSI', 'DFORC', AND 'CTRLB' BITS
 1219 21067 4102          CHDF
 1220 21070 1311          TAD FRCSTR
 1221 21071 3015          DCA AXS1        /SET THE POINTER TO THE COMMAND LINE
 1222 21072 1415  FRCJ1,  TAD I AXS1
 1223 21073 7450          SNA             /END OF FORCE STRING?
 1224 21074 5653          JMP I FRCJOB    /YES - RETURN
 1225 21075 6201          CDF
 1226 21076 3710          DCA I TTYCHR    /STORE THE CHARACTER IN FIELD 0
 1227 21077 4102          CHDF
 1228 21100 6202          CIF
 1229 21101 4707          GIR             /NOW PROCESS THE CHARACTER
 1230 21102 2636  FRCDEV,  DEVTBL+NULINE+NULINE
 1231 21103 5653          JMP I FRCJOB    /NO ROOM - JUST RETURN
 1232 21104 5272          JMP FRCJ1
 1233             
 1234 21105 1016  FRCFLG, DSI+DHALF+DFORC+CTRLB
 1235       4706  GETDDB= JMS I .
 1236 21106 1440          GETDB0
 1237       4707  GIR=    JMS I .
 1238 21107 6200          GIR00
 1239 21110 0032  TTYCHR, TTCHAR
 1240             /
 1241       0260  FA1=    BILLNG%1000+"0
 1242       0260  FA2=    BILLNG^10%1000+"0
 1243       0260  FA3=    BILLNG^100%1000+"0
 1244       0267  FA4=    BILLNG^1000%1000+"0
 1245       0002  FJ1=    JOBMAX%10
 1246       0004  FJ2=    -FJ1^10+JOBMAX
 1247 21111 1111  FRCSTR, .
 1248 21112 0314          "L;"O;"G;"I;"N;" ;FA1;FA2;FA3;FA4;" ;"A;" ;"0+FJ1;"0+FJ2
      21113 0317
      21114 0307
      21115 0311
      21116 0316
      21117 0240
      21120 0260
      21121 0260
      21122 0260
      21123 0267

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 31


      21124 0240
      21125 0301
      21126 0240
      21127 0262
      21130 0264
 1249 21131 0273          ";;"R;"U;" ;"L;"O;"G;"$;"4;"3
      21132 0322
      21133 0325
      21134 0240
      21135 0314
      21136 0317
      21137 0307
      21140 0244
      21141 0264
      21142 0263
 1250 21143 0273          ";;"T;"A;" ;"0;" ;"L;"O;"G;"$;" ;"S;"T;"A;"R;"T;"E;"D;215;0
      21144 0324
      21145 0301
      21146 0240
      21147 0260
      21150 0240
      21151 0314
      21152 0317
      21153 0307
      21154 0244
      21155 0240
      21156 0323
      21157 0324
      21160 0301
      21161 0322
      21162 0324
      21163 0305
      21164 0304
      21165 0215
      21166 0000
 1251                             >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 32


 1252             
 1253             /HERE WE FINALLY START UP TSS/8 BY ENTERING THE SCHEDULAR.
 1254             
 1255 21167 0000  START,  0
 1256 21170 7300          CLA CLL
 1257                     IFZERO CPU-2    <
 1258 21171 6007          CAF
 1259                     >
 1260                     IFNZRO CPU-2 <
 1261                     IFNZRO RK05+RK8E <
 1262                     CLA CLL IAC
 1263                     DCLR            /CLEAR THE RK05
 1264                     >
 1265                     DTCA
 1266                     IFNZRO LPT      <LCF>   /CLEAR PRINTER
 1267                     RRB             /CLEAR ALL INTERRUPT FLAGS
 1268                     CLA
 1269                     PCF
 1270                     TCF
 1271                     CUF             /TURN OFF THE USER-MODE
 1272                     >
 1273             
 1274                     IFZERO D689-4   <
 1275                     EDF             /TURN ON DATA PHONES
 1276                     DFCRF
 1277                     CCF
 1278                     >
 1279             
 1280                     IFZERO D680-2 <
 1281                     TT8ON
 1282                     >
 1283                     IFZERO D680 <
 1284                             IFZERO CPU-1 <
 1285                             CLL CMA                 /LOAD CLOCK BUFFER
 1286                             CCF CLB
 1287                     >>
 1288                     IFZERO D680 <
 1289                             IFNZRO CPU-3 <
 1290 21172 6131          CECI
 1291                     >>
 1292                             IFZERO  CPU-3   <
 1293                     TAD M62         /50 MILLISECONDS PER TIC.
 1294                     OCTAL
 1295                     CLAB
 1296                     CLA
 1297                     TAD C4100
 1298                     CLLR
 1299                     CLA
 1300                     TAD C300
 1301                     CLEN
 1302                     CLSA
 1303                     CLA CMA
 1304                     MTON
 1305                     CLA IAC
 1306                     MINT
 1307                     CLA
 1308                             >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 33


 1309 21173 6203          CIF CDF
 1310 21174 5516          WAIT            /NOW START TSS/8
 1311                             IFZERO  CPU-3   <
 1312             M62,    -62
 1313             C4100,  4100
 1314             C300,   300
 1315                             >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 34


 1316                     PAGE
 1317                     IFZERO D680-2 <
 1318             /INITIALIZE 680 SYSTEM
 1319             
 1320             M8=     C7770
 1321             T8INCT, 0
 1322             T8GO,   T8GOS
 1323                     >
 1324             
 1325       6002  KC=     KCC-30
 1326 21200 0000  T8INI,  0
 1327                     IFNZRO CPU-3 <
 1328                             IFZERO D680-2   <
 1329                     TAD T8NUML
 1330                     T8INIT
 1331                     0
 1332                     TAD M8          /WAIT 8 CLOCK TICKS
 1333                     DCA T8INCT
 1334                     TT8ON
 1335                     T8SKP           /WAIT
 1336                     JMP .-1
 1337                     ISZ T8INCT      /DONE?
 1338                     JMP .-4         /NO
 1339                     T8OFF
 1340                             >
 1341             
 1342 21201 6032  T8INPT, 30+KC   /K00 - INPUT DEVICE CODE
 1343 21202 6402          400+KC
 1344 21203 6422          420+KC  /K02
 1345 21204 6442          440+KC
 1346 21205 6462          460+KC  /K04
 1347 21206 6342          340+KC
 1348 21207 6112          110+KC  /K06
 1349 21210 6302          300+KC
 1350 21211 6322          320+KC  /K10
 1351 21212 6502          500+KC
 1352 21213 6522          520+KC  /K12
 1353 21214 6542          540+KC
 1354 21215 6562          560+KC  /K14
 1355 21216 6702          700+KC
 1356 21217 6362          360+KC  /K16
 1357 21220 6722          720+KC
 1358 21221 6742          740+KC  /K20
 1359 21222 6062          060+KC
 1360 21223 6142          140+KC  /K22
 1361 21224 6162          160+KC
 1362             
 1363       1220          *T8INPT+KL8+PT08
 1364 21220 5600          JMP I T8INI
 1365             
 1366                     IFZERO NULINE-24&4000   <GLITCH>
 1367                     >
 1368                     IFZERO CPU-3 <
 1369                     JMP I T8INI     /A BIGGY IF A DC02, ISN'T IT
 1370                     >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 35


 1371                     IFZERO D680-2 <
 1372             /INITIALIZATION
 1373             /ENTER WITH NUMBER OF LINES IN AC
 1374             /FORMAT         T8INIT
 1375             /               1ST LINE NO.
 1376             
 1377             T8INIT= JMS I T8GO
 1378             
 1379             T8GOS,  0
 1380                     CDF
 1381                     DCA I T8NL      /NO. OF LINES
 1382                     CHDF
 1383                     TAD I T8GOS     /STARTING LINE NO.
 1384                     CDF
 1385                     CLL RTL         /POSITIONED
 1386                     RAL             / IN
 1387                     DCA T8K26       / BITS 2-8 (INITIAL LSW)
 1388                     DCA T8K15       /CLEAR THE CTR
 1389                     TAD I T8NL      /RAISE NO. OF
 1390                     ISZ T8K15       / LINES TO AN
 1391                     TAD T8K16       / EVEN MULTIPLE
 1392                     SNA             /OF 5, SKP IF NOT INTEGRAL ANS.
 1393                     JMP .+7         /CAME OUT EVEN
 1394                     SMA             /SKP IF WE'VE GONE BEYOND
 1395                     JMP .-5         /CONTINUE
 1396                     TAD T8K19       /BACK UP ONE
 1397                     ISZ I T8NL      /UP THE NO OF LINES
 1398                     SZA             /SKIP IF FINISHED
 1399                     JMP .-3         /CONTINUE BACKING UP
 1400                     CLA
 1401                     TAD T8K15
 1402                     CIA
 1403                     DCA T8K15       /STORE -N/5
 1404                     TAD I T8NL
 1405                     CIA
 1406                     DCA I T8NL      /STORE -N
 1407                     TAD I T8BFK     /INPUT BUFF.PTR
 1408                     DCA I PT8AX2
 1409                     TAD T8K16       /-5
 1410                     DCA I PT8CT1    /MAJOR LOOP COUNTER
 1411                     TAD T8K15       /-N/5
 1412                     DCA I T8K23     /T8MNC
 1413                     TAD T8K38       /SET CTR FOR MAX NO.
 1414                     TAD T8K15       /CHARS PER PASS EQ
 1415                     DCA I T8K0      /32-N/5
 1416                     TAD I T8NL
 1417                     DCA I T8K14     /-NO. LINES
 1418                     STA
 1419                     DCA I T8CNT3    /SET TO SKP
 1420                     TAD I T8K7      /T8OBF
 1421                     DCA I T8OUTK    /1ST OUTPUT BUFFER POINTER
 1422                     TAD I T8K36     /T8OBF2
 1423                     DCA I T8OTK2    /2ND OUTPUT BUFFER POINTER
 1424                     CHDF
 1425                     TAD I T8GOS     /STARTING LINE NO.
 1426                     CDF
 1427                     DCA I T8K33     /T8K9, STARTING LINE NO. -1

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 36


 1428                     TAD I T8K33
 1429                     DCA I TT8K39
 1430                     TAD I T8K33     /T8K9
 1431                     CIA             /MAKE NEGATIVE
 1432                     DCA I T8K34     /T8SL, -STARTING LINE NO.
 1433                     DCA T8INFL      /CLEAR INPUT FLAG COUNTER
 1434                     STA             /-1
 1435                     DCA I T8K35     /T8LC, RESET INTERRUPT LEVEL COUNTER
 1436                     ISZ T8GOS       /INDEX EXIT
 1437                     CHDF
 1438                     JMP I T8GOS     /EXIT
 1439             
 1440             /CONSTANTS
 1441             T8K15,  0               /SET TO -N/5
 1442             T8K16,  -5              /FOR EVN MULT OF FIVE
 1443             T8K17,  10              /FOR ADDING TO LINE NO.
 1444             T8K19,  1               /USED TO FORM MULT OF 5
 1445             T8K20,  T8IN-1          /FOR STORING TTI'S
 1446             T8K21,  T8OBF-1         /DOUBLE BUF-
 1447             T8K22,  T8OBF2          /FERED OUTPUT
 1448             T8K23,  T8MNC           /FOR -N/5
 1449             T8K25,  TTI             /FOR THE TTI TABLE
 1450             T8K26,  0               /LINE STATUS WORD
 1451             T8K27,  2000            /CHAR. ASSEMBLY WOR
 1452             T8K28,  JMS I T8K99     /FOR JUMP TO STORE CHAR
 1453             T8K29,  JMP I T8K8      /FOR FINAL JUMP
 1454             T8K33,  T8K9            /FOR STARTING LINE-1
 1455             T8K34,  T8SL            /-STARTING LINE NO.
 1456             T8K35,  T8LC            /FOR INTERRUPT LEVEL COUNTER
 1457             T8K38,  40              /USED FOR NO. CHR/PASS
 1458             TT8K39, T8LN
 1459             
 1460             PT8AX2, T8AX2
 1461             PT8CT1, T8CNT1
 1462                     >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 37


 1463                     PAGE
 1464             
 1465 21400 0037  CORFRE, FREE
 1466 21401 0040  CORFCT, FRECNT
 1467 21402 0304  CORF1,  RINGIN
 1468 21403 0304  CORGEA, RINGIN
 1469 21404 0000  CORLNK, 0
 1470 21405 0006  CORMAX, CORMEM%10-1     /NUMBER OF USER FIELDS
 1471 21406 1317  CORSRA, CORSRC          /RESIDENT CORTBL SEARCH ROUTINE
 1472 21407 0060  FREND,  -FIPBLK         /END OF FREE CORE AREA
 1473 21410 0060  FRIEND, -FIPBLK
 1474 21411 3726  LODDTA, LODDT           /LOAD XDDT INTO FIELD 1
 1475             
 1476 21412 0000  CORINI, 0
 1477 21413 1033          TAD AUTOSW
 1478 21414 7640          SZA CLA         /AUTO-RESTART?
 1479 21415 5230          JMP CORIN0      /YES - ASSUME CONFIGURED MEMORY
 1480 21416 5230          JMP CORIN0      /CHANGE TO 'NOP' FOR XDDT & MEMORY MESSAGE
 1481             
 1482                     IFNZRO CPU-3 <
 1483 21417 4507          YESNO           /LOAD XDDT?
 1484 21420 0737           DDTMES
 1485 21421 7410          SKP             /NO
 1486 21422 4611          JMS I LODDTA    /YES - MOVE XDDT INTO FIELD 2
 1487                             >
 1488 21423 4510          MESSAG          /# USER FIELDS -
 1489 21424 0654           CORMES
 1490 21425 4515          GETIN           /READ THE RESPONSE
 1491 21426 4512          OCTIN           / AND CONVERT IT FROM ASCII
 1492 21427 5231          JMP .+2
 1493 21430 1205  CORIN0, TAD CORMAX      /GET THE NUMBER OF USER FIELDS
 1494 21431 0022          AND C0007
 1495 21432 7450          SNA             /ANYTHING ENTERED?
 1496 21433 7001          IAC             /NO - ASSUME 1 USER FIELD
 1497 21434 3044          DCA CORCNT
 1498 21435 1044          TAD CORCNT
 1499 21436 7041          CIA
 1500 21437 3015          DCA AXS1        /SAVE COUNTER FOR CORE-SEARCH ROUTINE
 1501 21440 7146          CLL CMA RTL
 1502 21441 1206          TAD CORSRA
 1503 21442 3016          DCA AXS2
 1504 21443 6201          CDF
 1505 21444 1015          TAD AXS1
 1506 21445 3416          DCA I AXS2      /SET (-) # USER FIELDS
 1507 21446 1044          TAD CORCNT
 1508 21447 1020          TAD C0002       /ALLOW FOR 'DATFLD' AND INITIAL 'CORTBL' OFFSET
 1509 21450 1045          TAD CORTBA
 1510 21451 7041          CIA
 1511 21452 3416          DCA I AXS2      /SET (-) THE FIRST LOCKED ENTRY IN CORTBL
 1512 21453 1045          TAD CORTBA
 1513 21454 7001          IAC             / (SKIP 'DATFLD')
 1514 21455 3016          DCA AXS2
 1515 21456 3416          DCA I AXS2      /NOW UNLOCK ALL USER FIELDS
 1516 21457 2015          ISZ AXS1
 1517 21460 5256          JMP .-2
 1518 21461 1044          TAD CORCNT
 1519 21462 1020          TAD C0002       /ALLOW FOR THE RESIDENT MONITOR

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 38


 1520 21463 7106          CLL RTL
 1521 21464 3044          DCA CORCNT      /CORCNT = TOTAL # FIELDS * 4
 1522 21465 1044          TAD CORCNT
 1523 21466 1046          TAD DSUTBA
 1524 21467 1023          TAD C0010       /ALLOW 'DSUTBL' TERMINATOR (1 WORD)
 1525 21470 0027          AND C7770       / AND FIND NEXT 8-WORD BOUNDARY
 1526 21471 3600          DCA I CORFRE    /SET THE POINTER TO THE FREE-CORE
 1527 21472 1203          TAD CORGEA
 1528 21473 3202          DCA CORF1       /SET POINTER TO ADDITION FREE-CORE LIST
 1529 21474 1210          TAD FRIEND
 1530 21475 3207          DCA FREND       / (JUST IN CASE INIT GETS REUSED)
 1531 21476 1600          TAD I CORFRE
 1532 21477 6211          DATFLD
 1533 21500 3204  CORIN1, DCA CORLNK
 1534 21501 1204          TAD CORLNK
 1535 21502 1023          TAD C0010
 1536 21503 3016          DCA AXS2
 1537 21504 1016  CORIN2, TAD AXS2
 1538 21505 1207          TAD FREND
 1539 21506 7650          SNA CLA         /IS THE NEXT BLOCK PAST THE END?
 1540 21507 5316          JMP CORIN3      /YES - WE'RE DONE
 1541 21510 1016          TAD AXS2
 1542 21511 3604          DCA I CORLNK    /NO - SET THE LINK-WORD IN THE PREVIOUS BLOCK
 1543 21512 1016          TAD AXS2
 1544 21513 2015          ISZ AXS1        /INCREMENT OUR BLOCK COUNTER
 1545 21514 5300          JMP CORIN1
 1546 21515 7402          HLT             /OOPS!!
 1547 21516 1602  CORIN3, TAD I CORF1
 1548 21517 7450          SNA             /ANY MORE 'EXTRA' SPACE?
 1549 21520 5330          JMP CORIN4      /NO
 1550 21521 3016          DCA AXS2        /YES - OVERLAY THE UNUSED DEVICE HANDLERS
 1551 21522 2202          ISZ CORF1
 1552 21523 1602          TAD I CORF1
 1553 21524 7041          CIA
 1554 21525 3207          DCA FREND       /SET THE AREA LIMIT
 1555 21526 2202          ISZ CORF1
 1556 21527 5304          JMP CORIN2
 1557 21530 3604  CORIN4, DCA I CORLNK    /LAST LINK IS ZERO
 1558 21531 1015          TAD AXS1
 1559 21532 7001          IAC
 1560 21533 6201          CDF
 1561 21534 3601          DCA I CORFCT    /SET THE NUMBER OF FREE-CORE BLOCKS
 1562 21535 4102          CHDF
 1563 21536 5612          JMP I CORINI
 1564             
 1565             
 1566             /SKIP LEADING SPACES AND TABS
 1567             /CALL   JMS SKIPS
 1568             /       BUFFER EMPTY
 1569             /       NORMAL RETURN
 1570             
 1571 21537 7540  SKISPA, -240
 1572 21540 0027  SKITAB, 240-211
 1573             
 1574 21541 0000  SKIPS,  0
 1575 21542 4505  SKIPS1, COMGET          /FETCH A CHARACTER
 1576 21543 5741          JMP I SKIPS     /NONE LEFT

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 39


 1577 21544 1337          TAD SKISPA
 1578 21545 7440          SZA             /A SPACE?
 1579 21546 1340          TAD SKITAB
 1580 21547 7650          SNA CLA         / OR A TAB (CTRL/I)?
 1581 21550 5342          JMP SKIPS1      /YES - IGNORE IT
 1582 21551 2341          ISZ SKIPS
 1583 21552 5741          JMP I SKIPS     /RETURN NORMALLY

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 40


 1584                     PAGE
 1585             /THIS ROUTINE READS OR WRITES 4K AT A TIME.
 1586             /CALLING SEQUENCE:
 1587             /       DISC
 1588             /        FUNCTION       (6603 OR 6605)
 1589             /        DDDM           D=DISC EXTENSION, M=DATA FIELD (BITS 9-11)
 1590             /       ERROR RETURN
 1591             /       NORMAL RETURN
 1592             /
 1593                     IFZERO RK8E <
 1594             
 1595 21600 0000  DISC0,  0
 1596 21601 6214          RDF
 1597 21602 1223          TAD C6201
 1598 21603 3233          DCA DISC1
 1599 21604 1233          TAD DISC1
 1600 21605 3247          DCA DISC2
 1601 21606 1600          TAD I DISC0     /GET THE FUNCTION WORD
 1602 21607 3234          DCA DISROW
 1603 21610 2200          ISZ DISC0
 1604 21611 1600          TAD I DISC0     /GET THE FIELD # & DISC EXT.
 1605             
 1606                     IFZERO RF08-40 <
 1607                     ISZ DISC0
 1608                     CLL RTL
 1609                     RAL
 1610                     DEAL            / AND SEND THEM TO THE CONTROLLER
 1611                     CLA CLL
 1612                     >
 1613                     IFZERO RF08 <
 1614 21612 7006          RTL
 1615 21613 7004          RAL
 1616 21614 0251          AND C0070
 1617 21615 6615          DIML            /SEND OUT THE FIELD SELECT
 1618 21616 1600          TAD I DISC0
 1619 21617 7112          CLL RTR
 1620 21620 7010          RAR
 1621 21621 6643          DXAL            / AND THE DISC EXTENSION
 1622 21622 2200          ISZ DISC0
 1623                     >
 1624 21623 6201  C6201,  CDF
 1625 21624 1652          TAD I C7750
 1626 21625 3255          DCA WCSAVE      /SAVE THE CURRENT DATA-BREAK WORDS
 1627 21626 1653          TAD I C7751
 1628 21627 3254          DCA MASAVE
 1629 21630 3652          DCA I C7750     /THEN SET FOR ENTIRE FIELD
 1630 21631 7240          STA
 1631 21632 3653          DCA I C7751     / STARTING AT ADDRESS 0
 1632 21633 0000  DISC1,  0
 1633 21634 0000  DISROW, 0               /THEN START THE TRANSFER
 1634 21635 6622          DFSC
 1635 21636 5235          JMP .-1
 1636 21637 6621          DFSE            /ANY ERRORS?
 1637             
 1638                     IFZERO RF08-40 <
 1639                     SKP
 1640                     >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 41


 1641 21640 2200          ISZ DISC0       /NO - FIX THE RETURN ADDRESS
 1642 21641 7300          CLA CLL
 1643 21642 1255          TAD WCSAVE
 1644 21643 6201          CDF
 1645 21644 3652          DCA I C7750     /FINALLY, RESTORE THE CONTROL WORDS
 1646 21645 1254          TAD MASAVE
 1647 21646 3653          DCA I C7751
 1648 21647 0000  DISC2,  0
 1649 21650 5600          JMP I DISC0     / AND RETURN
 1650             
 1651 21651 0070  C0070,  70
 1652 21652 7750  C7750,  7750
 1653 21653 7751  C7751,  7751
 1654 21654 0000  MASAVE, 0
 1655 21655 0000  WCSAVE, 0
 1656                     >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 42


 1657                     IFNZRO RK8E <
 1658             /
 1659             /ROUTINE TO HANDLE THE RK08/E DISC.
 1660             
 1661             DISC0,  0
 1662                     CLA CLL CMA RTL /SET THE ERROR RE-TRY COUNTER
 1663                     DCA DISCER
 1664             DSRTRY, TAD I DISC0     /GET THE FUNCTION
 1665                     RTR; RAR        / & ISOLATE THE READ/WRITE BIT
 1666                     CLA RAR
 1667                     DCA DISCMD
 1668                     ISZ DISC0
 1669                     TAD I DISC0     /NOW GET THE ADDRESSING INFORMATION
 1670                     RTL; RAL
 1671                     AND DS70        /PICK OUT THE DATA FIELD
 1672                     TAD DISCMD
 1673                     DCA DISCMD      / & SAVE IT IN THE COMMAND-WORD
 1674                     TAD DSM20       /INITIALIZE THE BLOCK COUNTER
 1675                     DCA DSBLKS
 1676                     DLCA            / & LOAD THE CORE ADDRESS
 1677                     TAD I DISC0     /NOW GET THE DISC ADDRESS
 1678                     AND DS7770
 1679                     CLL RAL
 1680                     DCA DISCAD
 1681                     SZL             /HIGH-ORDER BIT ON?
 1682             DSOVFL, ISZ DISCMD      /YES - SET IT IN THE COMMAND-WORD
 1683             DSLOOP, DCA DSHDCK      /SET 'CHECK-HEADER' SWITCH
 1684                     DCLR            /CLEAR THE CONTROLLER
 1685                     TAD DSHDCK      /GET THE 'CHECK-HEADER' SWITCH
 1686                     CLL RTR
 1687                     TAD DISCMD      / & THE REST OF THE COMMAND
 1688                     DLDC
 1689                     TAD DISCAD      /NOW GET THE DISC ADDRESS
 1690                     DLAG            / & DO THE I/O
 1691                     DSKP
 1692                     JMP .-1
 1693                     DRST            /BACK AGAIN! GET THE STATUS
 1694                     CLL RAL
 1695                     SZA             /ANY ERROR BITS?
 1696                     JMP DSERR       /YES
 1697                     ISZ DSBLKS      /NO - DECREMENT BLOCK-COUNT
 1698                     SKP
 1699                     JMP DISCDN      /ALL DONE
 1700                     TAD DISCAD      /NO - CHECK FOR END OF TRACK
 1701                     CMA
 1702                     AND DS37
 1703                     SZA CLA         /ARE WE AT A BOUNDARY?
 1704                     CLA CLL CML RAR /NO - SKIP HEADER CHECK
 1705                     ISZ DISCAD      /NOW INCREMENT THE ADDRESS
 1706                     JMP DSLOOP      / AND DO IT AGAIN
 1707                     JMP DSOVFL      /ADDRESS OVERFLOWED - INCREMENT HI-ORDER
 1708             
 1709             /WE HIT AN ERROR CONDITION - RE-CALIBRATE THE DISC & TRY AGAIN.
 1710             DSERR,  AND DS1002
 1711                     SNA CLA         /WAS IT A SEEK-FAIL OR CYL. ADDR ERROR?
 1712                     JMP DSAGN       /NO - JUST TRY AGAIN
 1713                     DCLR            /YES - WE RE-CALIBRATE THE DRIVE

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 43


 1714                     CLA CLL CML RTL / (AC=2)
 1715                     DCLR
 1716                     DSKP
 1717                     JMP .-1
 1718                     DCLR
 1719                     DRST            /NOW WAIT FOR THE STATUS TO CLEAR
 1720                     SZA CLA
 1721                     JMP .-2
 1722             DSAGN,  CLA CLL CMA
 1723                     TAD DISC0       /BACK UP THE PARAMETER POINTER
 1724                     DCA DISC0       / SO WE START FRESH
 1725                     ISZ DISCER      / BUT WE ONLY TRY 3 TIMES
 1726                     JMP DSRTRY
 1727             DISCDN, ISZ DISC0       /GOOD FINISH - FIX RETURN ADDRESS
 1728                     ISZ DISC0
 1729                     JMP I DISC0     /THEN RETURN
 1730             
 1731             DISCAD, 0
 1732             DISCMD, 0
 1733             DISCER, 0
 1734             DSBLKS, 0
 1735             DSHDCK, 0
 1736             DSM20,  -20
 1737             DS37,   37
 1738             DS70,   70
 1739             DS1002, 1002
 1740             DS7770, 7770
 1741                     >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 44


 1742             /
 1743             /SUBROUTINE TO READ A LINE FROM THE KEYBOARD.
 1744 21656 0000  GETIN0, 0
 1745 21657 1047          TAD INBUF
 1746 21660 3326          DCA BUFPTR
 1747 21661 4731  GETIN1, JMS I GETCHR    /READ A CHARACTER
 1748 21662 3726          DCA I BUFPTR
 1749 21663 1726          TAD I BUFPTR
 1750 21664 1032          TAD MC0377
 1751 21665 7640          SZA CLA         /RUBOUT IN STRING?
 1752 21666 5302          JMP GETIN3      /NO
 1753 21667 1047          TAD INBUF       /YES - ANYTHING TO RUB OUT?
 1754 21670 7041          CIA
 1755 21671 1326          TAD BUFPTR
 1756 21672 7650          SNA CLA
 1757 21673 5261          JMP GETIN1      /NO - JUST IGNORE RUBOUT
 1758 21674 7240          CLA CMA         /YES - BACK UP THE POINTER
 1759 21675 1326          TAD BUFPTR
 1760 21676 3326          DCA BUFPTR
 1761 21677 1726          TAD I BUFPTR    /ECHO CHARACTER
 1762 21700 4514          TYPE
 1763 21701 5261          JMP GETIN1
 1764             
 1765 21702 1326  GETIN3, TAD BUFPTR
 1766 21703 1325          TAD BUFLIM
 1767 21704 7650          SNA CLA         /REACHED BUFFER LIMIT?
 1768 21705 5322          JMP GETIN4      /YES - RING THE BELL
 1769 21706 1726          TAD I BUFPTR
 1770 21707 2326          ISZ BUFPTR      / & INCREMENT THE POINTER
 1771 21710 1327          TAD CM215
 1772 21711 7640          SZA CLA         /IS IT A CARRIAGE RETURN?
 1773 21712 5261          JMP GETIN1
 1774 21713 1330          TAD C0212
 1775 21714 4514          TYPE            /YES - TYPE A LINE-FEED
 1776 21715 3726          DCA I BUFPTR    / AND STORE A ZERO
 1777 21716 7240          CLA CMA
 1778 21717 1047          TAD INBUF
 1779 21720 3015          DCA AXS1        /SET THE INDEX REGISTER
 1780 21721 5656          JMP I GETIN0
 1781 21722 1022  GETIN4, TAD C0007
 1782 21723 4514          TYPE
 1783 21724 5261          JMP GETIN1
 1784             
 1785 21725 5217  BUFLIM, -INBUFZ
 1786 21726 0000  BUFPTR, 0
 1787 21727 7563  CM215,  -215
 1788 21730 0212  C0212,  212
 1789 21731 0503  GETCHR, IN

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 45


 1790                     PAGE
 1791             /INIT BOOTSTRAP - LOAD TRACK 2 INTO FIELD 0
 1792             
 1793 22000 6201  INBOOT, CDF
 1794 22001 7240          STA
 1795 22002 3617          DCA I B7751
 1796 22003 3616          DCA I B7750
 1797 22004 6002          IOF
 1798             
 1799                     IFZERO D680-2 <
 1800                     T8OFF
 1801                     >
 1802             /START HERE IF WC & MA SETUP
 1803                     IFZERO RF08 <
 1804 22005 6615          DIML            /SET THE FIELD NUMBER
 1805 22006 7326          CLA CLL CML RTL
 1806 22007 6643          DXAL            / AND THE TRACK NUMBER
 1807                     >
 1808                     IFZERO RF08-40 <
 1809                     TAD S0200
 1810                     DEAL            /SET THE TRACK & FIELD
 1811                     CLA
 1812                     >
 1813 22010 6603          DMAR            /NOW START THE READ
 1814 22011 6622          DFSC
 1815 22012 5211          JMP .-1
 1816 22013 6203          CIF CDF
 1817 22014 5615          JMP I .+1       /WHEN DONE, START UP 'INIT'
 1818 22015 4216          SUPER
 1819             
 1820 22016 7750  B7750,  7750
 1821 22017 7751  B7751,  7751
 1822 22020 0200  S0200,  200     /INIT TRACK

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 46


 1823             /DATE INPUT
 1824             /DATE=((YEAR-1974)*12+(MONTH-1))*31+DAY-1
 1825             
 1826 22021 2400  DATMUL, DMUL
 1827 22022 7666  CMBASE, -112    / '74
 1828 22023 7763  CM13,   -15
 1829 22024 7563  CMCR,   -215
 1830 22025 7740  CM32,   -40
 1831 22026 0014  C0012,  14
 1832 22027 0037  C0031,  37
 1833 22030 0000  DATMON, 0
 1834 22031 0000  DATDAY, 0
 1835 22032 0035  DATEA,  DATE
 1836             
 1837 22033 0000  DATEIN, 0
 1838 22034 7300          CLA CLL
 1839 22035 1033          TAD AUTOSW
 1840 22036 7650          SNA CLA         /DOING AN AUTO-RESTART?
 1841 22037 5242          JMP .+3         /NO
 1842 22040 1052          TAD SVDATE
 1843 22041 5315          JMP DATE1       /YES - USE SAVED CURRENT DATE
 1844 22042 4510          MESSAG          /MONTH-DAY-YEAR:
 1845 22043 0721           DATMES
 1846 22044 4515          GETIN
 1847 22045 4511          NUMBIN          /MONTH
 1848 22046 7507           -"9
 1849 22047 5234          JMP DATEIN+1
 1850 22050 7450          SNA
 1851 22051 5234          JMP DATEIN+1
 1852 22052 3230          DCA DATMON
 1853 22053 1230          TAD DATMON
 1854 22054 1223          TAD CM13
 1855 22055 7700          SMA CLA         /0<MONTH<13?
 1856 22056 5234          JMP DATEIN+1    /NO
 1857 22057 4511          NUMBIN          /DAY
 1858 22060 7507           -"9
 1859 22061 5234          JMP DATEIN+1
 1860 22062 7450          SNA
 1861 22063 5234          JMP DATEIN+1
 1862 22064 3231          DCA DATDAY
 1863 22065 1231          TAD DATDAY      /0<DAY<32?
 1864 22066 1225          TAD CM32
 1865 22067 7700          SMA CLA
 1866 22070 5234          JMP DATEIN+1
 1867 22071 4511          NUMBIN          /YEAR
 1868 22072 7507           -"9
 1869 22073 5234          JMP DATEIN+1
 1870 22074 7450          SNA
 1871 22075 5234          JMP DATEIN+1
 1872 22076 1222          TAD CMBASE
 1873 22077 7510          SPA
 1874 22100 5234          JMP DATEIN+1
 1875 22101 3036          DCA NUMHO+1
 1876 22102 1226          TAD C0012
 1877 22103 4621          JMS I DATMUL
 1878 22104 7240          STA
 1879 22105 1230          TAD DATMON

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 47


 1880 22106 1037          TAD NUMHO+2
 1881 22107 3036          DCA NUMHO+1
 1882 22110 1227          TAD C0031
 1883 22111 4621          JMS I DATMUL
 1884 22112 7240          STA
 1885 22113 1231          TAD DATDAY
 1886 22114 1037          TAD NUMHO+2
 1887 22115 6201  DATE1,  CDF
 1888 22116 3632          DCA I DATEA
 1889 22117 4102          CHDF
 1890 22120 5633          JMP I DATEIN

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 48


 1891             /ROUTINE TO TYPE A MESSAGE AND CHECK FOR A YES-NO RESPONSE.
 1892             /CALLING SEQUENCE:
 1893             /       YESNO
 1894             /        MSGAD  /ADDRESS OF QUESTION
 1895             /       'NO' RETURN
 1896             /       'YES' RETURN
 1897             
 1898 22121 0000  YESNO0, 0
 1899 22122 1721          TAD I YESNO0
 1900 22123 2321          ISZ YESNO0
 1901 22124 3326          DCA .+2
 1902 22125 4510          MESSAG
 1903 22126 0000           0
 1904 22127 4515          GETIN
 1905 22130 1447          TAD I INBUF
 1906 22131 1335          TAD CM331
 1907 22132 7650          SNA CLA         /FIRST CHARACTER A "Y"?
 1908 22133 2321          ISZ YESNO0      /YES - INDEX RETURN
 1909 22134 5721          JMP I YESNO0
 1910 22135 7447  CM331,  -331
 1911             
 1912             /ROUTINE TO FETCH ONE CHARACTER FROM THE KEYBOARD BUFFER.
 1913             
 1914 22136 0000  COMGE0, 0
 1915 22137 1415          TAD I AXS1
 1916 22140 3034          DCA CHAR
 1917 22141 1034          TAD CHAR
 1918 22142 1224          TAD CMCR
 1919 22143 7650          SNA CLA         /CARRIAGE RETURN?
 1920 22144 5350          JMP .+4         /YES-RESET AXS1 SO NEXT CALL FINDS CR
 1921 22145 2336          ISZ COMGE0      /NO
 1922 22146 1034          TAD CHAR
 1923 22147 5736          JMP I COMGE0    /RETURN WITH AC = CHAR = CHARACTER
 1924 22150 7240          STA
 1925 22151 1015          TAD AXS1
 1926 22152 3015          DCA AXS1                /BACK UP POINTER
 1927 22153 5736          JMP I COMGE0

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 49


 1928                     PAGE
 1929             
 1930             /NUMBER INPUT
 1931             /CALL:  NUMBIN
 1932             /        -"N    N=7,9 IN ASCII
 1933             /       NOT A NUMBER
 1934             /       # IN AC
 1935             
 1936       0036  NUMAGN= NUMHO+1 /MAGNITUDE
 1937 22200 0017  NUMB17, 17
 1938 22201 0000  NUMCNT, 0       /DIGIT COUNT
 1939                     IFNZRO NUMOCT-NUMDEC-10 <GLITCH>
 1940       0023  NUMDIF= C0010
 1941 22202 5302  NUMDSP, JMP NUMDEC
 1942 22203 7523  NUMINU, -"-
 1943 22204 7773  NUMM5,  -5
 1944 22205 7525  NUMPLS, -"+
 1945 22206 0000  NUMSGN, 0       /SIGN
 1946 22207 1541  NUMSKP, SKIPS
 1947 22210 7520  NUMZER, -"0
 1948             
 1949 22211 0000  NUMBI0, 0
 1950 22212 1611          TAD I NUMBI0    /SET CONVERSION DISPATCH
 1951 22213 0020          AND C0002
 1952 22214 7650          SNA CLA
 1953 22215 1023          TAD NUMDIF      /OCTAL
 1954 22216 1202          TAD NUMDSP      /DECIMAL
 1955 22217 3301          DCA NUMDEC-1
 1956 22220 3206          DCA NUMSGN      /INITIALIZE
 1957 22221 3036          DCA NUMAGN
 1958 22222 3035          DCA NUMHO
 1959 22223 3201          DCA NUMCNT
 1960 22224 4607          JMS I NUMSKP    /SKIP LEADING SPACES AND TABS
 1961 22225 5332          JMP NUMBI4      /BUFFER EMPTY
 1962 22226 1034          TAD CHAR
 1963 22227 1205          TAD NUMPLS      /+?
 1964 22230 7650          SNA CLA
 1965 22231 5237          JMP NUMBI1      /YES
 1966 22232 1034          TAD CHAR
 1967 22233 1203          TAD NUMINU      /-?
 1968 22234 7640          SZA CLA
 1969 22235 5241          JMP NUMBI2      /NO
 1970 22236 2206          ISZ NUMSGN      /YES - SET (-) INDICATOR
 1971 22237 4505  NUMBI1, COMGET          /GET A CHARACTER
 1972 22240 5320          JMP NUMBI3
 1973 22241 7200  NUMBI2, CLA
 1974 22242 1034          TAD CHAR
 1975 22243 1210          TAD NUMZER
 1976 22244 7710          SPA CLA         /DIGIT?
 1977 22245 5320          JMP NUMBI3      /NO
 1978 22246 1034          TAD CHAR
 1979 22247 1611          TAD I NUMBI0
 1980 22250 7740          SMA SZA CLA
 1981 22251 5320          JMP NUMBI3
 1982 22252 1034          TAD CHAR
 1983 22253 0200          AND NUMB17
 1984 22254 3102          DCA CHDFA

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 50


 1985 22255 2201          ISZ NUMCNT
 1986 22256 1201          TAD NUMCNT      /MORE THAT 4 DIGITS?
 1987 22257 1204          TAD NUMM5
 1988 22260 7710          SPA CLA
 1989 22261 5275          JMP NUMBI5      /NO
 1990 22262 1035          TAD NUMHO       /SHIFT HIGH ORDER
 1991 22263 7106          CLL RTL
 1992 22264 7004          RAL
 1993 22265 0027          AND C7770
 1994 22266 3035          DCA NUMHO
 1995 22267 1036          TAD NUMAGN
 1996 22270 7106          CLL RTL
 1997 22271 7006          RTL
 1998 22272 0022          AND C0007
 1999 22273 1035          TAD NUMHO
 2000 22274 3035          DCA NUMHO
 2001 22275 1036  NUMBI5, TAD NUMAGN
 2002 22276 7106          CLL RTL
 2003 22277 7004          RAL
 2004 22300 0027          AND C7770
 2005 22301 7402          HLT
 2006 22302 7100  NUMDEC, CLL
 2007 22303 1036          TAD NUMAGN
 2008 22304 7430          SZL
 2009 22305 2035          ISZ NUMHO
 2010 22306 7100          CLL
 2011 22307 1036          TAD NUMAGN
 2012 22310 7430          SZL
 2013 22311 2035          ISZ NUMHO
 2014 22312 7100  NUMOCT, CLL
 2015 22313 1102          TAD CHDFA
 2016 22314 7430          SZL
 2017 22315 2035          ISZ NUMHO
 2018 22316 3036          DCA NUMAGN
 2019 22317 5237          JMP NUMBI1
 2020             
 2021 22320 1201  NUMBI3, TAD NUMCNT
 2022 22321 7650          SNA CLA
 2023 22322 5332          JMP NUMBI4      /NOT A NUMBER
 2024 22323 2211          ISZ NUMBI0
 2025 22324 1206          TAD NUMSGN
 2026 22325 7110          CLL RAR
 2027 22326 7200          CLA
 2028 22327 1036          TAD NUMAGN
 2029 22330 7430          SZL
 2030 22331 7041          CIA
 2031 22332 2211  NUMBI4, ISZ NUMBI0
 2032 22333 5611          JMP I NUMBI0

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 51


 2033 22334 7520  OCI260, -260
 2034 22335 0000  OCTINT, 0
 2035             
 2036 22336 0000  OCTIN0, 0
 2037 22337 3335          DCA OCTINT
 2038 22340 1415  OCTIN1, TAD I AXS1      /GET A CHARACTER
 2039 22341 3016          DCA AXS2
 2040 22342 1016          TAD AXS2
 2041 22343 1334          TAD OCI260
 2042 22344 7510          SPA             /IS IT A LEGAL DIGIT?
 2043 22345 5361          JMP OCTIN2      /NO - WE'RE DONE
 2044 22346 1027          TAD C7770
 2045 22347 7500          SMA
 2046 22350 5361          JMP OCTIN2      /NO
 2047 22351 1023          TAD C0010
 2048 22352 3016          DCA AXS2
 2049 22353 1335          TAD OCTINT      /YES - GET THE NUMBER SO FAR
 2050 22354 7106          CLL RTL         / MULTIPLY IT BY 8
 2051 22355 7004          RAL
 2052 22356 1016          TAD AXS2        / AND ADD IN THE NEW DIGIT
 2053 22357 3335          DCA OCTINT
 2054 22360 5340          JMP OCTIN1
 2055 22361 7300  OCTIN2, CLA CLL
 2056 22362 1335          TAD OCTINT
 2057 22363 5736          JMP I OCTIN0

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 52


 2058                     PAGE
 2059             
 2060 22400 0000  DMUL,   0
 2061 22401 3250          DCA MP2         /MULTIPLIER
 2062 22402 1036          TAD NUMHO+1     /LOW ORDER MULTIPLICAND
 2063 22403 4221          JMS MP4
 2064 22404 3037          DCA NUMHO+2     /LOW ORDER
 2065 22405 1252          TAD MP5
 2066 22406 3036          DCA NUMHO+1     /HIGH ORDER
 2067 22407 1035          TAD NUMHO       /HIGH ORDER MULTIPLICAND
 2068 22410 7450          SNA
 2069 22411 5600          JMP I DMUL
 2070 22412 4221          JMS MP4
 2071 22413 1036          TAD NUMHO+1
 2072 22414 3036          DCA NUMHO+1
 2073 22415 7004          RAL             /GET CARRY
 2074 22416 1252          TAD MP5
 2075 22417 3035          DCA NUMHO
 2076 22420 5600          JMP I DMUL
 2077             
 2078             
 2079 22421 0000  MP4,    0
 2080 22422 3247          DCA MP1
 2081 22423 3252          DCA MP5
 2082 22424 1253          TAD M12
 2083 22425 3251          DCA MP3
 2084 22426 7100          CLL
 2085 22427 1247          TAD MP1
 2086 22430 7010          RAR
 2087 22431 3247          DCA MP1
 2088 22432 1252          TAD MP5
 2089 22433 7420          SNL
 2090 22434 5237          JMP .+3
 2091 22435 7100          CLL
 2092 22436 1250          TAD MP2
 2093 22437 7010          RAR
 2094 22440 3252          DCA MP5
 2095 22441 2251          ISZ MP3
 2096 22442 5227          JMP MP4+6
 2097 22443 1247          TAD MP1
 2098 22444 7010          RAR
 2099 22445 7100          CLL
 2100 22446 5621          JMP I MP4
 2101             
 2102 22447 0000  MP1,    0
 2103 22450 0000  MP2,    0
 2104 22451 0000  MP3,    0
 2105 22452 0000  MP5,    0
 2106 22453 7764  M12,    -14

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 53


 2107 22454 0000  DSKINI, 0               /CLEAR USER DISC REQUEST QUEUE
 2108 22455 6211          DATFLD
 2109 22456 1044          TAD CORCNT
 2110 22457 7041          CIA
 2111 22460 3015          DCA AXS1
 2112 22461 7240          STA
 2113 22462 1046          TAD DSUTBA
 2114 22463 3016          DCA AXS2
 2115 22464 3416          DCA I AXS2
 2116 22465 2015          ISZ AXS1
 2117 22466 5264          JMP .-2
 2118 22467 7240          STA
 2119 22470 3416          DCA I AXS2      /MARK END OF TABLE
 2120 22471 6201          CDF
 2121 22472 6601          DCMA            /CLEAR THE DISC FLAG
 2122 22473 4102          CHDF
 2123 22474 5654          JMP I DSKINI

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 54


 2124             /TIME INPUT
 2125             
 2126 22475 2400  TIMULT, DMUL
 2127 22476 7132  TIMCK2, -INCLK2-1
 2128 22477 1000  TIMCK1, -INCLK1
 2129 22500 0074  C0074,  74      /60
 2130 22501 2260  C660,   TICMIN  /TICKS PER MINUTE
 2131             
 2132 22502 0000  TIMEIN, 0
 2133 22503 1033          TAD AUTOSW
 2134 22504 7650          SNA CLA         /DOING AUTO-RESTART?
 2135 22505 5313          JMP TIME1       /NO
 2136 22506 6201          CDF
 2137 22507 1050          TAD SVCLK1      /YES - RESET THE OLD CLOCK
 2138 22510 3441          DCA I CLK1A
 2139 22511 1051          TAD SVCLK2
 2140 22512 5345          JMP TIME2
 2141 22513 4510  TIME1,  MESSAG
 2142 22514 0732           TIMESS         /TIME:
 2143 22515 4515          GETIN
 2144 22516 4511          NUMBIN
 2145 22517 7507           -"9
 2146 22520 5303          JMP TIMEIN+1
 2147 22521 3036          DCA NUMHO+1
 2148 22522 3035          DCA NUMHO
 2149 22523 1300          TAD C0074
 2150 22524 4675          JMS I TIMULT
 2151 22525 4511          NUMBIN
 2152 22526 7507           -"9
 2153 22527 5303          JMP TIMEIN+1
 2154 22530 1037          TAD NUMHO+2
 2155 22531 3036          DCA NUMHO+1
 2156 22532 3035          DCA NUMHO
 2157 22533 1301          TAD C660
 2158 22534 4675          JMS I TIMULT
 2159 22535 7100          CLL
 2160 22536 6201          CDF
 2161 22537 1037          TAD NUMHO+2
 2162 22540 1277          TAD TIMCK1
 2163 22541 3441          DCA I CLK1A
 2164 22542 7004          RAL
 2165 22543 1036          TAD NUMHO+1
 2166 22544 1276          TAD TIMCK2
 2167 22545 3442  TIME2,  DCA I CLK2A
 2168 22546 4102          CHDF
 2169 22547 5702          JMP I TIMEIN
 2170             
 2171 22550 0000  INBUFA, ZBLOCK 12       /INPUT BUFFER FOR INIT RESPONSES
      22551 0000
      22552 0000
      22553 0000
      22554 0000
      22555 0000
      22556 0000
      22557 0000
      22560 0000
      22561 0000

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 55


 2172       22561  INBUFZ= .-1

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 56


 2173                     PAGE
 2174             /DECTAPE TRANSFER ROUTINE
 2175             /CALLING SEQUENCE:
 2176             /       JMS DTGO
 2177             /       WORD 0BCD, WHERE:
 2178             /               B(BITS 3-5) = UNIT NUMBER
 2179             /               C(BITS 6-8) = MEMORY FIELD
 2180             /               D(BITS 9-11); 5=WRITE,3=READ
 2181             /       BLOCK NUMBER
 2182             /       ERROR RETURN
 2183             /       NORMAL RETURN
 2184             
 2185                     IFZERO TD8E <
 2186                             IFNZRO CPU-3 <
 2187             
 2188 22600 0000  DTGO,   0
 2189 22601 7346          CLA CLL CMA RTL
 2190 22602 3324          DCA DTERRI
 2191 22603 1600          TAD I DTGO      /GET THE FUNCTION WORD
 2192 22604 2200          ISZ DTGO
 2193 22605 3330          DCA DTMF
 2194 22606 1330          TAD DTMF
 2195 22607 7106          CLL RTL
 2196 22610 7004          RAL
 2197 22611 3325          DCA DTFUNC
 2198 22612 1600          TAD I DTGO      /GET THE STARTING BLOCK NUMBER
 2199 22613 2200          ISZ DTGO
 2200 22614 3326          DCA DTBLKO
 2201 22615 6201  DTAGN,  CDF
 2202 22616 7240          CLA CMA
 2203 22617 3717          DCA I DTMAA     /SET THE SEARCH WORD-BUFFER
 2204 22620 6774          DTLB
 2205 22621 7300  DTREV,  CLA CLL
 2206 22622 1325          TAD DTFUNC      /START SEARCH REVERSE
 2207 22623 0322          AND DT7010      /EXTRACT UNIT NUMBER
 2208 22624 1323          TAD DT0600      /SEARCH REVERSE FUNCTION
 2209 22625 6766          DTCA DTXA       /START SEARCH
 2210 22626 4300  DTRWT,  JMS DTWAIT      /REVERSE WAIT
 2211 22627 5221          JMP DTREV       /SELECT ERROR, TRY AGAIN
 2212 22630 5240          JMP DTFOR       /FRONT END ZONE ASSUMED
 2213 22631 1021          TAD C0003
 2214 22632 6201          CDF
 2215 22633 1431          TAD I C7777
 2216 22634 7040          CMA
 2217 22635 1326          TAD DTBLKO      /BACK 3 FROM OBJECT BLOCK?
 2218 22636 7710          SPA CLA         /IF SO, START FORWARD
 2219 22637 5226          JMP DTRWT       /IF NOT, CONTINUE REVERSE
 2220             
 2221 22640 1325  DTFOR,  TAD DTFUNC      /START SEARCH FORWARD
 2222 22641 0322          AND DT7010
 2223 22642 1327          TAD DT0200
 2224 22643 6766          DTCA DTXA
 2225 22644 4300  DTFWT,  JMS DTWAIT      /FORWARD WAIT
 2226 22645 5240          JMP DTFOR       /SELECT ERROR; TRY AGAIN
 2227 22646 5221          JMP DTREV       /BACK END ZONE ASSUMED
 2228 22647 6201          CDF
 2229 22650 1431          TAD I C7777

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 57


 2230 22651 7041          CIA
 2231 22652 1326          TAD DTBLKO      /OBJECT BLOCK
 2232 22653 7510          SPA             /ARE WE PAST IT?
 2233 22654 5221          JMP DTREV       /YES - REVERSE DIRECTION
 2234 22655 7640          SZA CLA         /NO - IS THIS THE BLOCK WE WANT?
 2235 22656 5244          JMP DTFWT       /NO - JUST CONTINUE SEARCH
 2236 22657 1330          TAD DTMF
 2237 22660 6774          DTLB            /SET THE DATA FIELD
 2238 22661 3720          DCA I DTWCA
 2239 22662 1325          TAD DTFUNC
 2240 22663 0321          AND DT0070      /EXTRACT READ OR WRITE BYTE
 2241 22664 1024          TAD C0100       /CONTINUOUS MODE
 2242 22665 4300          JMS DTWAIT      /XOR IN READ OR WRITE; XOR OUT THE SEARCH
 2243 22666 7000          NOP             /SELECT ERROR - TREAT AS NORMAL ERROR
 2244 22667 5275          JMP DTERR
 2245 22670 2200          ISZ DTGO        /INCREMENT IF NORMAL RETURN
 2246 22671 6761  DTER1,  DTRA
 2247 22672 0327          AND DT0200
 2248 22673 6764          DTXA            /STOP THE DRIVE
 2249 22674 5600          JMP I DTGO
 2250             
 2251 22675 2324  DTERR,  ISZ DTERRI
 2252 22676 5215          JMP DTAGN       /RE-TRY TRANSFER
 2253 22677 5271          JMP DTER1
 2254             
 2255             
 2256             /ROUTINE TO KILL TIME WHILE DECTAPE SPINS
 2257             /CALL:  JMS DTWAIT
 2258             /       RETURN IF SELECT ERROR OCCURS
 2259             /       RETURN FOR ALL OTHER ERROR CONDITIONS
 2260             /       RETURN IF TRANSFER OR OPERATION WAS OK
 2261             
 2262 22700 0000  DTWAIT, 0
 2263 22701 6764          DTXA            /XOR THE FUNCTION WORD
 2264 22702 4102          CHDF            /BACK TO THIS DATA FIELD
 2265 22703 6761          DTRA            /CHECK THE STATUS
 2266 22704 0327          AND DT0200
 2267 22705 7650          SNA CLA         /IS THE TAPE MOVING?
 2268 22706 5700          JMP I DTWAIT    /NO - MUST BE SELECT ERROR
 2269 22707 6773          DTSF DTRB       /YES - WAIT FOR THE FLAG
 2270 22710 5307          JMP .-1
 2271 22711 7500          SMA             /ANY ERRORS?
 2272 22712 2300          ISZ DTWAIT      /NO - INCREMENT RETURN ADDRESS
 2273 22713 0025          AND C0400
 2274 22714 7650          SNA CLA         /SELECT ERROR?
 2275 22715 2300          ISZ DTWAIT      /NO - INCREMENT RETURN AGAIN
 2276 22716 5700          JMP I DTWAIT    / THEN RETURN
 2277             
 2278       7755  DTMA=7755
 2279       7754  DTWC=7754
 2280 22717 7755  DTMAA,  DTMA
 2281 22720 7754  DTWCA,  DTWC
 2282 22721 0070  DT0070, 70
 2283 22722 7010  DT7010, 7010
 2284 22723 0600  DT0600, 600
 2285 22724 0000  DTERRI, 0
 2286 22725 0000  DTFUNC, 0               /STORE THE FUNCTION

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 58


 2287 22726 0000  DTBLKO, 0
 2288 22727 0200  DT0200, 200
 2289 22730 0000  DTMF,   0
 2290                             >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 59


 2291                             IFZERO CPU-3 <
 2292             DTGO,   0               /SAME CALLING SEQUENCE AS THE 8 VERSION.
 2293                     CLA
 2294                     TAD I DTGO      /GET THE CALLING WORD
 2295                     DCA DTWHAT      /WHAT HE WANTS TO DO.
 2296                     ISZ DTGO
 2297                     TAD I DTGO      /GET THE BLAHS NOW
 2298                     DCA DTBLCK      /SAVE AWAY NOW.
 2299                     ISZ DTGO        /WE ARE NOW POINTING TO THE ERROR RETURN
 2300                     TAD     DTWHAT          /REGET THE DESIRED FUNCTION
 2301                     RTR
 2302                     RAR                     /PLACE THE READ OR WRITE BIT IN THE LINC.
 2303                     SZL CLA                 /IF READ BYPASS FUDGE
 2304                     CLA CLL IAC RTL         /+4 FOR THE OPERATION
 2305                     TAD     C0702           /BASIC READ INSTRUCTION.
 2306                     DCA     DTINST          /SAVE IN THE EXECUTE WORD NOW.
 2307                     TAD     DTWHAT          /REGET THE FUNCTION STUFF
 2308                     AND     C0100           /GET THE UNIT NUMBER JAZZ.
 2309                     CLL RTR
 2310                     RAR                     /ROTATE TO BIT 8.
 2311                     TAD     DTINST
 2312                     DCA     DTINST          /STASH IT AWAY. ALL IS NOW WELL
 2313                     TAD     DTWHAT          /GET THE STUFF AGAIN.
 2314                     RTL
 2315                     RTL                     /MOVE TO BITS 0-2
 2316                     RTL
 2317                     AND     C7000           /CHOP OFF THE EXTRA CRAP
 2318                     DCA     DTAXO           /SAVE IN THE AXO REGISTER
 2319                     TAD     DTWHAT
 2320                     RTL
 2321                     RTL
 2322                     RTL                     /BITS 3-4 IN BITS 10-11
 2323                     AND     C0003           /CHOP OFF SOME MORE CRAP
 2324                     TAD     C0030           /SET NO PAUSE AND EXTENDED ADDRSSSING.
 2325                     TAD     DTAXO
 2326                     DCA     DTAXO           /SAVE AWAY FOR A SECOND.
 2327                     6141                    /GET INTO LINC MODE
 2328                     1020                    /LDA I
 2329             DTAXO,  0
 2330                     11                      /THE CLEAR WILL SET UP THE TMA ADDRESS
 2331                     23                      /TMA.
 2332             DTINST, 0                       /PROPER INSTRUCTION
 2333             DTBLCK, 0                       /PROPER BLOCK
 2334                     6                       /DJR.
 2335                     416                     /STD
 2336                     6000 .-2                /JMP    .-2
 2337                     3                       /TAC
 2338                     2                       /GET INTO 8 MODE
 2339                     CMA
 2340                     SNA CLA
 2341                     JMP     DTGOOD
 2342                     TAD     DTWHAT
 2343                     RTR
 2344                     RAR
 2345                     SZL CLA                 /WAS IT A READ??????
 2346             DTGOOD, ISZ     DTGO            /NOPE. A WRITE WAS OK. GOOD EXIT
 2347                     JMP I   DTGO

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 60


 2348             DTWHAT, 0
 2349             C0030,  0030
 2350             C0702,  702
 2351             C7000,  7000
 2352                             >
 2353                     >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 61


 2354                     IFNZRO TD8E <
 2355             /ROUTINE TO HANDLE THE TD8E DECTAPES FOR LOADING AND
 2356             /DUMPING THE SYSTEM; THEY CANNOT BE USED UNDER TSS/8.
 2357             /CALLING SEQUENCE:
 2358             /       JMS DTGO
 2359             /        ABCD   /A=UNUSED; B=UNIT; C=FIELD; D=3 (READ), 5 (WRITE)
 2360             /        BLOCK #
 2361             /       ERROR RETURN
 2362             /       NORMAL RETURN
 2363             
 2364             SDSS=   6771    /SKIP ON SINGLE-LINE FLAG
 2365             SDST=   6772    /SKIP ON TIMING ERROR
 2366             SDSQ=   6773    /SKIP ON QUAD-LINE FLAG
 2367             SDLC=   6774    /LOAD COMMAND REGISTER
 2368             SDLD=   6775    /LOAD DATA REGISTER
 2369             SDRC=   6776    /READ COMMAND REGISTER
 2370             SDRD=   6777    /READ DATA REGISTER
 2371             
 2372             DTGO,   0
 2373                     CLA CLL CMA RTL /SET THE ERROR LIMIT (3)
 2374                     DCA I DTERCT
 2375                     TAD I DTGO      /GET THE FUNCTION WORD
 2376                     DCA I DTFNC
 2377                     ISZ DTGO
 2378                     TAD I DTFNC     /GET THE LOW BIT OF THE UNIT #
 2379                     CLL RTL; RTL; RAL
 2380                     AND DT4000
 2381                     DCA I DTDRV
 2382                     TAD I DTFNC     /NOW GET THE DATA FIELD
 2383                     AND DT70
 2384                     TAD DT6201
 2385                     DCA DTFLD
 2386                     TAD I DTGO      /GET THE STARTING BLOCK #
 2387                     DCA DTBLK
 2388                     ISZ DTGO
 2389                     TAD DTM37       / AND SET THE BLOCK COUNT TO 37
 2390                     DCA DTBLCT
 2391             DTMNT,  TAD I DTDRV     /TEST FOR A SELECT ERROR
 2392                     SDLC
 2393                     SDRC
 2394                     AND DT100
 2395                     SZA CLA         /ERROR?
 2396                     JMP DTMNT       /YES - JUST WAIT FOR DRIVE
 2397                     DCA I DTBFF     /ZERO START ADDRESS (SINCE WE DO A WHOLE FIELD)
 2398                     CLA CLL         / & START DRIVE IN REVERSE INITIALLY
 2399                     JMP DTMOVE
 2400             DTNEXT, CHDF            /GET BACK TO OUR FIELD
 2401                     SDST
 2402                     SZA CLA         /CHECKSUM ERROR?
 2403                     JMP DTERR       /YES - NO RECOVERY HERE
 2404                     ISZ DTBLCT      /ANY MORE BLOCKS TO DO?
 2405                     SKP             /YES
 2406                     JMP DTEXIT      /NO - TAKE 'NORMAL' EXIT
 2407                     ISZ DTBLK       /INCREMENT THE BLOCK #
 2408             DTMOVE, CLA CML RTR     /GET THE MOTION BIT (1=FORWARD, 0=REVERSE)
 2409                     TAD DT1000      / & ADD IN THE 'GO' BIT
 2410                     TAD I DTDRV

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 62


 2411                     SDLC            /THEN START THE DRIVE
 2412                     JMS DTRDQD
 2413                     JMS DTRDQD
 2414                     CLA
 2415             DTSRCH, SDSS            /WAIT FOR SINGLE-LINE FLAG
 2416                     JMP .-1
 2417                     SDRC
 2418                     CLL RTL
 2419                     AND DT374       /ISOLATE THE MARK-TRACK BITS
 2420                     TAD DTM110
 2421                     SNA             /IS IT THE END-ZONE?
 2422                     JMP DTENDZ      /YES
 2423                     TAD DTM20
 2424                     SZA CLA         /IS IT A BLOCK MARK?
 2425                     JMP DTSRCH      /NOPE - KEEP LOOKING
 2426                     SDRD            /YES - GET THE BLOCK NUMBER
 2427                     SZL             /ARE WE IN REVERSE?
 2428                     TAD DT3         /YES - ALLOW 3 BLOCKS FOR TURNAROUND
 2429                     CMA
 2430                     TAD DTBLK       / (WATCH THE LINK HERE)
 2431                     CMA
 2432                     SNA             /IS THIS THE RIGHT BLOCK?
 2433                     JMP DTFND       /YES
 2434                     SZL CLA         /NO - ARE WE HEADED FOR IT?
 2435                     JMP DTSRCH      /YES - KEEP GOING
 2436             DTENDZ, SDRC            /GET OUR DIRECTION
 2437                     CLL RTL
 2438                     SZL CLA         /ARE WE IN REVERSE?
 2439                     JMP DTMOVE      /YES - TURN AROUND
 2440             DTERR,  ISZ DTERCT      /STEP THE ERROR COUNTER
 2441                     JMP DTMOVE      / & TRY AGAIN
 2442                     SKP
 2443             
 2444             /HERE WE STOP THE TAPE AND RETURN.
 2445             DTEXIT, ISZ DTGO        /FIX FOR THE NORMAL RETURN
 2446             DTQUIT, CLA CLL
 2447                     CHDF            /GET BACK TO OUR FIELD
 2448                     TAD I DTDRV     /STOP THE DRIVE
 2449                     SDLC
 2450                     CLA
 2451                     JMP I DTGO      /THEN RETURN
 2452             /WE FOUND THE BLOCK - NOW PERFORM THE OPERATION.
 2453             DTFND,  SZL CLA         /ARE WE GOING THE RIGHT WAY?
 2454                     JMP DTMOVE      /NO - TURN AROUND
 2455             DTFLD,  HLT             /YES - GET TO THE DATA FIELD
 2456                     JMP I .+1       / & GO PERFORM THE I/O
 2457                     DTPAGE
 2458             
 2459             /SUBROUTINE TO READ ONE FULL WORD FROM TAPE
 2460             DTRDQD, 0
 2461                     SDSQ            /WAIT FOR FULL WORD
 2462                     JMP .-1
 2463                     SDRD            /THEN READ IT
 2464                     JMP I DTRDQD    / & RETURN
 2465             
 2466             /SUBROUTINE TO WRITE ONE FULL WORD ONTO TAPE.
 2467             DTWRQD, 0

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 63


 2468                     JMS I DTEQF     /UPDATE THE CHECKSUM
 2469                     SDSQ            /NOW WAIT FOR A WORD-BOUNDARY
 2470                     JMP .-1
 2471                     SDLD
 2472                     CLA
 2473                     JMP I DTWRQD
 2474             
 2475             DTBFF,  DTBUFF
 2476             DTBLCT, 0
 2477             DTBLK,  0
 2478             DTDRV,  DTUNIT
 2479             DTEQF,  DTEQUF
 2480             DTERCT, 0
 2481             DTFNC,  DTFUNC
 2482             DT3,    3
 2483             DT70,   70
 2484             DT100,  100
 2485             DT374,  374
 2486             DT1000, 1000
 2487             DT4000, 4000
 2488             DT6201, CDF
 2489             DTM20,  -20
 2490             DTM37,  -37
 2491             DTM110, -110
 2492                     >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 64


 2493                     PAGE
 2494             
 2495             /4K DISC READ OR WRITE
 2496             
 2497 23000 7300  LOAD,   CLA CLL
 2498 23001 6224          RIF
 2499 23002 1026          TAD C6203
 2500 23003 3103          DCA INIF
 2501 23004 4102          CHDF
 2502 23005 4510  LOAD1,  MESSAG          / "READ OR WRITE - "
 2503 23006 0665           RDORWT
 2504 23007 4510          MESSAG
 2505 23010 0735           DASH
 2506 23011 4515          GETIN
 2507 23012 1447          TAD I INBUF
 2508 23013 1253          TAD CMR
 2509 23014 7450          SNA             /FIRST CHAR "R"?
 2510 23015 5222          JMP .+5         /YES - DO A READ
 2511 23016 1254          TAD CMW
 2512 23017 7640          SZA CLA         /NO - A "W"?
 2513 23020 5205          JMP LOAD1       /NO - ASK AGAIN
 2514 23021 7326          CLA CLL CML RTL /YES - SET FOR "WRITE"
 2515 23022 1255          TAD C6603       / OR A "READ"
 2516 23023 3243          DCA RORW
 2517 23024 4510          MESSAG          / "FIELD # - "
 2518 23025 0675           FIELD1
 2519 23026 4515          GETIN
 2520 23027 4512          OCTIN           /GET THE FIELD #
 2521 23030 0022          AND C0007
 2522 23031 3244          DCA FLDNUM
 2523 23032 4510          MESSAG          / "TRACK # - "
 2524 23033 0703           TRACK
 2525 23034 4515          GETIN
 2526 23035 4512          OCTIN
 2527 23036 7106          CLL RTL
 2528 23037 7004          RAL
 2529 23040 1244          TAD FLDNUM
 2530 23041 3244          DCA FLDNUM
 2531 23042 4506          DISC            /NOW READ THE TRACK
 2532 23043 0000  RORW,    0
 2533 23044 0000  FLDNUM,  0
 2534 23045 7410          SKP             /ERROR
 2535 23046 5251          JMP .+3
 2536 23047 4510          MESSAG          / "OOPS" - DISC ERROR
 2537 23050 0711           OOPS
 2538 23051 5652          JMP I .+1       /NOW BACK TO XDDT
 2539 23052 7000          7000
 2540             
 2541 23053 7456  CMR,    -"R
 2542 23054 7773  CMW,    "R-"W
 2543 23055 6603  C6603,  6603

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 65


 2544 23056 0000  CLEAR,  0
 2545 23057 7200          CLA
 2546 23060 4506          DISC            /READ MONITOR II INTO FIELD 1
 2547 23061 6603           DMAR
 2548 23062 0041           TS8DEX+11
 2549 23063 7402          HLT             /ERROR?
 2550 23064 1270          TAD CLR1
 2551 23065 4271          JMS ZERO        /ZERO OUT FREE CORE
 2552 23066 4102          CHDF
 2553 23067 5656          JMP I CLEAR
 2554             
 2555 23070 2675  CLR1,   JOBTBL
 2556             
 2557 23071 0000  ZERO,   0               /CLEAR FIELD 1 FROM C(AC) TO 7777
 2558 23072 3300          DCA CLR2        /BEGINNING ADDRESS
 2559 23073 6211          DATFLD
 2560 23074 3700          DCA I CLR2
 2561 23075 2300          ISZ CLR2
 2562 23076 5274          JMP .-2
 2563 23077 5671          JMP I ZERO
 2564 23100 0000  CLR2,   0

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 66


 2565             /SUBROUTINE TO SEND A MESSAGE TO ALL REAL CONSOLE PRINTERS.
 2566 23101 0000  PRTAL0, 0
 2567 23102 1701          TAD I PRTAL0    /GET THE MESSAGE ADDRESS
 2568 23103 3312          DCA PRAMSG
 2569 23104 2301          ISZ PRTAL0
 2570 23105 1317          TAD PRAMAX
 2571 23106 3015          DCA AXS1        /SET THE CONSOLE COUNTER
 2572 23107 3016          DCA AXS2
 2573 23110 1016  PRTAL1, TAD AXS2        /GET THE CONSOLE NUMBER
 2574 23111 4320          JMS QUEUE       / AND SEND THE MESSAGE
 2575 23112 0000  PRAMSG,  0
 2576 23113 2016          ISZ AXS2
 2577 23114 2015          ISZ AXS1
 2578 23115 5310          JMP PRTAL1      /DO THE NEXT ONE
 2579 23116 5701          JMP I PRTAL0    / AND RETURN
 2580             /
 2581 23117 7765  PRAMAX, -TRUKBD-1
 2582             /
 2583             /SUBROUTINE TO SEND A MESSAGE TO A PARTICULAR CONSOLE.
 2584             /CALLED WITH THE CONSOLE NUMBER IN THE AC.
 2585 23120 0000  QUEUE,  0
 2586 23121 3350          DCA QTTY
 2587 23122 1720          TAD I QUEUE     /GET THE MESSAGE ADDRESS
 2588 23123 3346          DCA QPTR
 2589 23124 2320          ISZ QUEUE
 2590 23125 1350          TAD QTTY
 2591 23126 7124          CLL CML RAL
 2592 23127 1347          TAD QTBL
 2593 23130 3345          DCA QDEV        /POINTS TO DEVTBL ENTRY
 2594 23131 6201  QUEUE1, CDF
 2595 23132 1345          TAD QDEV
 2596 23133 3443          DCA I CONDVA    /SET DEVTBL ENTRY ADDRESS FOR 'PRINT'
 2597 23134 4102          CHDF
 2598 23135 1746  QUEUE2, TAD I QPTR      /GET A CHARACTER
 2599 23136 7450          SNA             /END OF MESSAGE?
 2600 23137 5720          JMP I QUEUE     /YES - RETURN
 2601 23140 6202          CIF
 2602 23141 4513          PRINT           /NOW BUFFER IT
 2603 23142 5720          JMP I QUEUE     /NO ROOM - JUST RETURN
 2604 23143 2346          ISZ QPTR
 2605 23144 5335          JMP QUEUE2
 2606             /
 2607 23145 0000  QDEV,   0
 2608 23146 0000  QPTR,   0
 2609 23147 2600  QTBL,   DEVTBL
 2610 23150 0000  QTTY,   0

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 67


 2611                     PAGE
 2612             
 2613                     IFZERO TD8E <
 2614                     IFNZRO CPU-3 <
 2615             
 2616             /
 2617             /TC08 BOOTSTRAP LOADER; THIS IS WRITTEN IN BLOCK ZERO
 2618             /OF TC08 SYSTEM DUMP TAPES. THIS ALLOWS THE SYSTEM TO
 2619             /BE BROUGHT UP USING THE TC08 DECTAPE BOOTSTRAP.
 2620             
 2621 23200 5220  TCHEAD, JMP TCHD1       /START LOAD SEQUENCE
 2622 23201 0000  TCBLKS, 0       /# OF TRACKS INIT SHOULD LOAD ONCE BOOTSTRAPPED
 2623 23202 3475  TCDTA,  DTA     /READ/WRITE FLAG IN 'INIT'
 2624 23203 0020  TCFLD,  INFLD   /FIELD TO LOAD 'INIT'
 2625 23204 7677  TCINBK, -101    /DECTAPE LOCATION OF 'INIT'
 2626 23205 0103  TCINIF, INIF    /DATA-FIELD SELECT ROUTINE IN 'INIT'
 2627 23206 7755  TCMA,   7755    /DATA-BREAK MEMORY ADDRESS
 2628 23207 7754  TCWC,   7754    /DATA-BREAK WORD-COUNT
 2629 23210 7777  TCWRD,  7777    /ADDR. OF WORD-BUFFER USED TO CHECK BLOCK NUMBER
 2630 23211 0130  TC130,  130     /READ FUNCTION
 2631 23212 0200  TC200,  200
 2632 23213 0600  TC600,  600
 2633 23214 0610  TC610,  610
 2634             
 2635                     IFNZRO TCHEAD+16-.&4000 <GLITCH>
 2636       3216          *TCHEAD+16
 2637 23216 6771          DTSF            /THIS OVERLAYS THE TC08 BOOTSTRAP
 2638 23217 5216          JMP .-1
 2639 23220 7300  TCHD1,  CLA CLL
 2640 23221 6774          DTLB            /SET FIELD ZERO FOR SEARCH
 2641 23222 1213          TAD TC600
 2642 23223 6766          DTCA DTXA       /FIRST REWIND THE TAPE
 2643 23224 6771          DTSF
 2644 23225 5224          JMP .-1
 2645 23226 6201          CDF
 2646 23227 1210          TAD TCWRD
 2647 23230 3606          DCA I TCMA      /SET THE WORD-BUFFER
 2648 23231 1214          TAD TC610       /NOW SEARCH FORWARD
 2649 23232 6764  TCHD2,  DTXA            /SET THE FUNCTION
 2650 23233 6773          DTSF DTRB       / AND WAIT FOR THE FLAG
 2651 23234 5233          JMP .-1
 2652 23235 7710          SPA CLA         /ANY ERRORS?
 2653 23236 5220          JMP TCHD1       /YES - RETRY
 2654 23237 1610          TAD I TCWRD
 2655 23240 1204          TAD TCINBK
 2656 23241 7640          SZA CLA         /REACHED 'INIT' BLOCK YET?
 2657 23242 5232          JMP TCHD2       /NO - CONTINUE SEARCH
 2658 23243 1203          TAD TCFLD
 2659 23244 6774          DTLB            /YES - SET FIELD FOR 'INIT'
 2660 23245 3607          DCA I TCWC      / AND CLEAR THE WORD-COUNT TO TRANSFER 4K
 2661 23246 7240          CLA CMA
 2662 23247 3606          DCA I TCMA
 2663 23250 1211          TAD TC130
 2664 23251 6764          DTXA            /NOW START READ OF 'INIT'
 2665 23252 6773          DTSF DTRB
 2666 23253 5252          JMP .-1
 2667 23254 7710          SPA CLA         /ANY ERRORS?

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 68


 2668 23255 5220          JMP TCHD1       /YES - RETRY
 2669 23256 1212          TAD TC200
 2670 23257 6764          DTXA            /ALL DONE - STOP THE DRIVE
 2671 23260 6221  TCUDF,  CDF INFLD       /GET TO THE 'INIT' FIELD
 2672 23261 1260          TAD TCUDF
 2673 23262 3605          DCA I TCINIF    /SET UP THE DATA-FIELD SELECT ROUTINE
 2674 23263 1302          TAD TCSVT1
 2675 23264 3700          DCA I SVUP1A    /PASS BACK THE OLD UPTIME
 2676 23265 1303          TAD TCSVT2
 2677 23266 3701          DCA I SVUP2A
 2678 23267 7240          CLA CMA
 2679 23270 3602          DCA I TCDTA     /SET THE READ/WRITE FLAG TO 'READ'
 2680 23271 6223          CIF CDF INFLD
 2681 23272 1201          TAD TCBLKS
 2682 23273 7450          SNA             /SHOULD WE LOAD THE SYSTEM?
 2683 23274 5676          JMP I .+2       /NO - JUST START 'INIT'
 2684 23275 5677          JMP I .+2       /YES - WE DO THIS ONLY WHEN BUILDING THE SYSTEM
 2685 23276 4216          SUPER
 2686 23277 3415          SYSBLD
 2687             /
 2688 23300 0053  SVUP1A, SVUPT1
 2689 23301 0054  SVUP2A, SVUPT2
 2690 23302 0000  TCSVT1, 0
 2691 23303 0000  TCSVT2, 0
 2692             
 2693             /
 2694             /SUBROUTINE TO WRITE OUT THE PRECEDING TAPE HEADER.
 2695 23304 0000  WRTHD,  0
 2696 23305 7300          CLA CLL
 2697 23306 1053          TAD SVUPT1      /COPY OVER THE SAVED UPTIME
 2698 23307 3302          DCA TCSVT1
 2699 23310 1054          TAD SVUPT2
 2700 23311 3303          DCA TCSVT2
 2701 23312 6774  WRTHD1, DTLB            /USE FIELD ZERO FOR SEARCH
 2702 23313 1213          TAD TC600
 2703 23314 6766          DTCA DTXA       /REWIND THE FIRST REEL
 2704 23315 4750          JMS I WHWAIT    / & WAIT FOR THE FLAG
 2705 23316 5312          JMP WRTHD1      /SELECT ERROR - TRY AGAIN
 2706 23317 7410          SKP             /MUST BE END-ZONE ERROR
 2707 23320 5312          JMP WRTHD1      /NO ERROR - BUT WE SHOULD GET ONE
 2708 23321 6201          CDF
 2709 23322 1210          TAD TCWRD
 2710 23323 3606          DCA I TCMA      /SET THE WORD-POINTER
 2711 23324 1214          TAD TC610
 2712 23325 4750          JMS I WHWAIT    / AND SEARCH FORWARD
 2713 23326 5312          JMP WRTHD1      /SELECT ERROR
 2714 23327 5312          JMP WRTHD1      /OTHER ERROR
 2715 23330 6201          CDF
 2716 23331 1610          TAD I TCWRD
 2717 23332 7640          SZA CLA         /AT BLOCK ZERO?
 2718 23333 5312          JMP WRTHD1      /NO - TRY AGAIN
 2719 23334 6224          RIF
 2720 23335 6774          DTLB            /YES - SET THE CURRENT FIELD
 2721 23336 1352          TAD WRTLEN
 2722 23337 3607          DCA I TCWC      / AND THE WORD-COUNT
 2723 23340 1351          TAD WRTADR
 2724 23341 3606          DCA I TCMA      / AND THE ADDRESS

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 69


 2725 23342 1347          TAD WH50
 2726 23343 4750          JMS I WHWAIT    /THEN START THE WRITE
 2727 23344 5312          JMP WRTHD1      /SELECT ERROR - TRY AGAIN
 2728 23345 5312          JMP WRTHD1      /OTHER ERROR - START OVER
 2729 23346 5704          JMP I WRTHD     /NO ERRORS - JUST RETURN
 2730             /
 2731 23347 0050  WH50,   50
 2732 23350 2700  WHWAIT, DTWAIT
 2733 23351 3177  WRTADR, TCHEAD-1
 2734 23352 7600  WRTLEN, -200
 2735             
 2736       3354          *TCHEAD+154
 2737 23354 7755          7755    /THESE OVERLAY THE BREAK LOCATIONS DURING
 2738 23355 7755          7755    / THE INITIAL LOAD
 2739                     >>

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 70


 2740                     IFNZRO TD8E <   /CONTINUATION OF TD8E DECTAPE HANDLER
 2741             /
 2742             /NOW SET UP TO DO THE READ OR WRITE.
 2743             DTPAGE, TAD DTM201      /SET (-) WORDS / BLOCK
 2744                     DCA DTWDCT
 2745             DTRVGD, SDSS            /NOW WAIT FOR REVERSE-GUARD
 2746                     JMP .-1
 2747                     SDRC
 2748                     AND DT77
 2749                     TAD DTM32
 2750                     SZA CLA         /IS IT REVERSE-GUARD?
 2751                     JMP DTRVGD      /NO - KEEP LOOKING
 2752                     TAD DTFUNC      /GET THE FUNCTION-WORD
 2753                     RTR
 2754                     SZL CLA         /READ?
 2755                     JMP DTREAD      /YES
 2756             DTWRIT, SDRC            /NO - WRITE
 2757                     AND DT300
 2758                     SZA CLA         /WRITE-LOCK OR SELECT ERROR?
 2759                     JMP I DTBAD     /YES - JUST DIE
 2760                     JMS I DTRQD     / (THIS WORD UNUSED)
 2761                     CLA
 2762                     TAD DT1400      /GET THE FUNCTION
 2763                     TAD DTUNIT      / AND THE UNIT
 2764                     SDLC            / AND START THE TRANSFER
 2765                     CLA CMA         /PUT 77 INTO REVERSE CHECKSUM
 2766                     JMS I DTWQD
 2767                     CLA CMA         / AND INITIALIZE OUR CHECKSUM
 2768                     DCA DTCKSM
 2769             DTWRLP, TAD I DTBUFF    /OK, NOW GET A DATA WORD
 2770                     JMS I DTWQD     / & WRITE IT OUT
 2771                     ISZ DTBUFF      /THEN MOVE THE POINTER
 2772                     NOP
 2773                     ISZ DTWDCT      / & STEP THE WORD-COUNT
 2774                     JMP DTWRLP      /THEN GET THE NEXT
 2775                     JMS DTCHEK      /ALL DONE - UPDATE THE CHECKSUM
 2776                     JMS I DTWQD     / AND WRITE IT OUT
 2777                     JMS I DTWQD
 2778                     CLL CML         /SET TO START FORWARD
 2779                     JMP I DTNXTA    / AND GO DO THE NEXT BLOCK
 2780             
 2781             DTREAD, JMS I DTRQD     /SKIP THE CONTROL-WORDS
 2782                     JMS I DTRQD
 2783                     JMS I DTRQD
 2784                     AND DT77
 2785                     TAD DT7700
 2786                     DCA DTCKSM
 2787             DTRDLP, JMS I DTRQD     /OK, GET A WORD FROM TAPE
 2788                     JMS DTEQUF      / & INCLUDE IT IN THE CHECKSUM
 2789                     DCA I DTBUFF    / THEN STORE IT
 2790                     ISZ DTBUFF
 2791                     NOP
 2792                     ISZ DTWDCT      /STEP THE WORD-COUNT
 2793                     JMP DTRDLP
 2794                     JMS I DTRQD     /GET THE CHECKSUM
 2795                     AND DT7700
 2796                     JMS DTEQUF

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 71


 2797                     JMS DTCHEK      / & CUT IT DOWN
 2798                     JMP I DTNXTA    /THEN GO CHECK IT & GET NEXT BLOCK
 2799             
 2800             /SUBROUTINE TO UPDATE THE CHECKSUM.
 2801             DTEQUF, 0
 2802                     CMA             /ALTHOUGH DECTAPE CHECKSUMS ARE
 2803                     DCA DTEQF1      / THE EQUIVALENCE OF ALL WORDS 6 BITS
 2804                     TAD DTEQF1      / AT A TIME, EQUIVALENCE IS ASSOCIATIVE
 2805                     AND DTCKSM      / SO WE DO IT 12 BITS AT A TIME & CONDENSE
 2806                     CIA             / IT LATER. THIS ROUTINE USES THESE IDENTITIES:
 2807                     CLL RAL         /       A+B=(A.XOR.B)+2*(A.AND.B)
 2808                     TAD DTEQF1      /       A.EQU.B=.NOT.(A.XOR.B)=A.XOR.(.NOT.B)
 2809                     TAD DTCKSM      /       A.EQU.B=(A+(.NOT.B))-2*(A.AND.(.NOT.B))
 2810                     DCA DTCKSM
 2811                     TAD DTEQF1
 2812                     CMA
 2813                     JMP I DTEQUF
 2814             DTEQF1, 0
 2815             
 2816             /SUBROUTINE TO CONDENSE THE CHECKSUM (SEE COMMENTS IN DTEQUF).
 2817             DTCHEK, 0
 2818                     CLA
 2819                     TAD DTCKSM
 2820                     CMA
 2821                     CLL RTL; RTL; RTL
 2822                     JMS DTEQUF
 2823                     CLA CLL CML     /FORCES LINK ON AT DTNEXT
 2824                     TAD DTCKSM
 2825                     AND DT7700
 2826                     JMP I DTCHEK
 2827             
 2828             DTBAD,  DTQUIT
 2829             DTBUFF, 0
 2830             DTCKSM, 0
 2831             DTERRS, 0
 2832             DTFUNC, 0
 2833             DTNXTA, DTNEXT
 2834             DTRQD,  DTRDQD
 2835             DTUNIT, 0
 2836             DTWDCT, 0
 2837             DTWQD,  DTWRQD
 2838             DT77,   77
 2839             DT300,  300
 2840             DT1400, 1400
 2841             DT7700, 7700
 2842             DTM32,  -32
 2843             DTM201, -201
 2844                     >

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 72


 2845       3400          *3400
 2846             
 2847             /DISC DUMP ON DTA1
 2848             /DECTAPE BLOCK 40N+1=DISC TRAC N
 2849             
 2850 23400 4505  DSKDMP, COMGET          /SCAN TO FIND A COMMA
 2851 23401 5211          JMP DSKD1       /BUFFER EMPTY - DUMP THE WHOLE DISC
 2852 23402 1326          TAD MCOM
 2853 23403 7640          SZA CLA         /COMMA?
 2854 23404 5200          JMP DSKDMP      /NO
 2855 23405 4511          NUMBIN          /YES - READ THE NUMBER OF 4K BLOCKS TO DUMP
 2856 23406 7511           -"7
 2857 23407 5656          JMP I SUPERA    /BAD #
 2858 23410 7041          CIA
 2859             DSKD1,
 2860                     IFZERO TD8E <
 2861                     IFNZRO CPU-3 <
 2862 23411 3733          DCA I HDBLKA    /SET THE COUNT INTO THE TC08 BOOTSTRAP
 2863 23412 1733          TAD I HDBLKA
 2864                     >>
 2865 23413 7450          SNA             /IF ZERO, DO THE WHOLE DISC
 2866 23414 1323          TAD DSKSZ
 2867 23415 3322  SYSBLD, DCA DSKCNT      /ENTRY FROM SYSTEM DECTAPE BOOTSTRAP
 2868 23416 7100          CLL
 2869 23417 1275          TAD DTA
 2870 23420 7640          SZA CLA         /READ OR WRITE?
 2871 23421 7120          STL             /READ - SET L=1
 2872 23422 7420          SNL             /READ OR WRITE?
 2873 23423 1020          TAD C0002       /WRITE
 2874 23424 1320          TAD C0013       /READ - START WITH UNIT # 0
 2875 23425 3277          DCA DSKDTP
 2876 23426 7001          IAC
 2877 23427 3300          DCA DSKDTP+1
 2878 23430 7430          SZL             /READ FROM TAPE?
 2879 23431 1020          TAD C0002       /YES - THEN WE WRITE ONTO DISC
 2880 23432 1325          TAD D6603       /NO - WE READ FROM DISC
 2881 23433 3261          DCA DSKDKP
 2882 23434 7001          IAC
 2883 23435 3262          DCA DSKDKP+1
 2884 23436 7430          SZL
 2885 23437 7001          IAC
 2886 23440 1327          TAD DSKDSA      /GET THE POINTER-LIST
 2887 23441 3275          DCA DTA
 2888 23442 1675          TAD I DTA
 2889 23443 3251          DCA DSKDRD      /SET THE READ-SUBROUTINE CALL
 2890 23444 2275          ISZ DTA
 2891 23445 1675          TAD I DTA
 2892 23446 3252          DCA DSKDWR      /SET THE WRITE-SUBROUTINE CALL
 2893             
 2894                     IFZERO TD8E <
 2895                     IFNZRO CPU-3 <
 2896 23447 7420          SNL             /IS THIS A WRITE?
 2897 23450 4734          JMS I WRTHDA    /YES - WRITE OUT A BOOTSTRAP LOADER
 2898                     >>
 2899             /
 2900             /NOW WE TRANSFER THE SPECIFIED NUMBER BLOCKS
 2901             /FROM OUR INPUT-DEVICE (TAPE OR DISC) TO OUR OUTPUT DEVICE

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 73


 2902             /(DISC OR TAPE).
 2903 23451 7402  DSKDRD,  HLT
 2904 23452 7402  DSKDWR,  HLT
 2905 23453 2322          ISZ DSKCNT
 2906 23454 5251          JMP DSKDRD
 2907 23455 5656          JMP I .+1
 2908 23456 4216  SUPERA, SUPER
 2909             
 2910 23457 0000  DSK,    0
 2911 23460 4506          DISC
 2912 23461 0000  DSKDKP,  0
 2913 23462 0000           0
 2914 23463 5270          JMP DSK1
 2915 23464 1262          TAD DSKDKP+1
 2916 23465 1023          TAD C0010
 2917 23466 3262          DCA DSKDKP+1
 2918 23467 5657          JMP I DSK
 2919             DSK1,
 2920 23470 6616          IFZERO RF08     <DIMA>
 2921                     IFZERO RF08-40  <DEAC>
 2922 23471 0020          AND C0002
 2923 23472 7650          SNA CLA         /'NXD' ERROR?
 2924 23473 5260          JMP DSK+1       /NO - JUST TRY AGAIN
 2925 23474 5657          JMP I DSK       /YES - RETURN NORMALLY
 2926             
 2927 23475 0000  DTA,    0
 2928 23476 4724          JMS I DSKTGO
 2929 23477 0000  DSKDTP,  0
 2930 23500 0000           0
 2931 23501 5276          JMP .-3         /ERROR - JUST TRY AGAIN
 2932 23502 1300          TAD DSKDTP+1
 2933 23503 1317          TAD C0040
 2934 23504 3300          DCA DSKDTP+1
 2935 23505 1300          TAD DSKDTP+1
 2936 23506 1317          TAD C0040
 2937 23507 1321          TAD CM2702
 2938 23510 7710          SPA CLA         /REACHED THE END OF THIS REEL?
 2939 23511 5675          JMP I DTA       /NO - JUST RETURN
 2940 23512 1024          TAD C0100       /YES - INCREMENT THE UNIT NUMBER
 2941 23513 1277          TAD DSKDTP
 2942 23514 3277          DCA DSKDTP
 2943 23515 3300          DCA DSKDTP+1
 2944 23516 5675          JMP I DTA
 2945             
 2946             
 2947 23517 0040  C0040,  40
 2948 23520 0013  C0013,  13
 2949 23521 5076  CM2702, -2702
 2950 23522 0000  DSKCNT, 0
 2951 23523 7700  DSKSZ,  -DSKSIZ
 2952 23524 2600  DSKTGO, DTGO
 2953 23525 6603  D6603,  6603
 2954 23526 7524  MCOM,   -254
 2955 23527 3530  DSKDSA, .+1
 2956 23530 4257          JMS DSK
 2957 23531 4275          JMS DTA
 2958 23532 4257          JMS DSK

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 74


 2959             
 2960                     IFZERO TD8E <
 2961                     IFNZRO CPU-3 <
 2962 23533 3201  HDBLKA, TCBLKS
 2963 23534 3304  WRTHDA, WRTHD
 2964                     >>

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 75


 2965                     PAGE
 2966             /FILE PHANTOM AND DISC REFRESHER
 2967             /WRITE NEW MFD ON DISC DIRECTLY ABOVE THE SWAPPING AREA
 2968             
 2969 23600 4507  REFCO0, YESNO           /"ARE YOU SURE"?
 2970 23601 0714           FIPREM
 2971 23602 5707          JMP I REFSUP    /NO
 2972 23603 4510          MESSAG          /YES - TELL HIM INITIAL PASSWORDS
 2973 23604 3751           NEWPAS
 2974 23605 4720          JMS I FIPBLT    /CLEAR FIELD 1
 2975 23606 4102          CHDF
 2976 23607 1312          TAD MFD1        /MOVE VIRGIN "MFD" TO FIELD 1
 2977 23610 3313          DCA COUNT2
 2978 23611 1713  FIPRF3, TAD I COUNT2    /GET A WORD
 2979 23612 2313          ISZ COUNT2
 2980 23613 7040          CMA
 2981 23614 7450          SNA             /REACHED THE END OF THE CANNED MFD?
 2982 23615 5224          JMP FIPRF1      /YES
 2983 23616 7040          CMA
 2984 23617 6211          DATFLD
 2985 23620 3711          DCA I COUNT     /NO - STORE THE WORD INTO FIP
 2986 23621 4102          CHDF
 2987 23622 2311          ISZ COUNT
 2988 23623 5211          JMP FIPRF3
 2989 23624 4506  FIPRF1, DISC            /WRITE OUT THE FRESH MFD
 2990 23625 6605           DMAW
 2991 23626 0311           SWDEX+JOBMAX^10+1
 2992 23627 7402          HLT             /DISC WRITE ERROR
 2993             
 2994             /INITIALIZE STORAGE ALLOCATION TABLE "SAT"
 2995             /THE SAT TABLE RESIDES IN FIP AT 7777 AND EXTENDS
 2996             /DOWN THRU 7777-(SATSIZ-1).  EACH BIT POSITION
 2997             /REPRESENTS 1 SEGMENT OF FILE STORAGE.
 2998             /SEGMENT 0 IS BIT 0 OF 7252,
 2999             /SEGMENT 1 IS BIT 1 OF 7252, ETC.   7252 =7777-(SATSIZ+2).
 3000             /LOCATION SATCNT=7777-(SATSIZ-1)+1 CONTAINS THE COUNT OF AVAILABLE
 3001             /SEGMENTS.  A SEGMENT IS AVAILABLE IF ITS SAT BIT HAS THE
 3002             /VALUE 0.
 3003             
 3004 23630 4716          JMS I FIPRFD    /FIP TO FIELD 1
 3005 23631 3304          DCA FIPRF2
 3006 23632 1317          TAD CENTBL
 3007 23633 4720          JMS I FIPBLT    /CLEAR ALL THE FIP TABLE SPACE
 3008 23634 1325          TAD SEGMAX
 3009 23635 3315          DCA STORE0      / # SEGS = DSKSIZ-JOBMAX-SWDEX^20-1
 3010 23636 7240          CLA CMA
 3011 23637 6211          DATFLD
 3012 23640 3721          DCA I SATBOT    /"-255"
 3013 23641 7344          CLL STA RAL     /SUBTRACT TWO SEGMENTS (FOR 1,2 UFD'S)
 3014 23642 1315          TAD STORE0      /SET SATCNT TO # DISC SEGMENTS-2
 3015 23643 3722          DCA I SATCNT    /"-254"
 3016 23644 7130          CLL CML RAR     /MARK SEGMENTS 0,1 FOR MFD,UFD USAGE
 3017 23645 7130          CLL CML RAR
 3018 23646 3710          DCA I SATTBL
 3019 23647 1315          TAD STORE0
 3020 23650 7500          SMA             /OVER 4000 SEGMENTS?
 3021 23651 5257          JMP .+6         /NO OK

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 76


 3022 23652 1324          TAD CM4004      /SUBTRACT 4004
 3023 23653 3315          DCA STORE0
 3024 23654 1323          TAD C0253       /253 WORDS =4004 SEGS
 3025 23655 3311          DCA COUNT
 3026 23656 1315          TAD STORE0
 3027 23657 1314          TAD C7764       /-14
 3028 23660 2311          ISZ COUNT       /COUNT # ZERO WORDS IN SAT
 3029 23661 7500          SMA
 3030 23662 5257          JMP .-3
 3031 23663 3315          DCA STORE0
 3032 23664 1311          TAD COUNT
 3033 23665 1310          TAD SATTBL
 3034 23666 1031          TAD C7777
 3035 23667 3311          DCA COUNT       /POINTS TO LAST NON-LOCKED WORD IN SAT
 3036 23670 7124          CLL CML RAL     /BUILD THE PARTIAL WORD FOR THE END
 3037 23671 2315          ISZ STORE0
 3038 23672 5270          JMP .-2
 3039 23673 3711          DCA I COUNT     /MARK END OF FILE STORAGE AS ALLOCATED
 3040 23674 5277          JMP FIPRF5
 3041 23675 7240  FIPRF4, CLA CMA
 3042 23676 3711          DCA I COUNT     /NOW LOCK-OUT THE REMAINDER OF SAT
 3043 23677 2311  FIPRF5, ISZ COUNT
 3044 23700 5275          JMP FIPRF4
 3045 23701 4102          CHDF
 3046 23702 4506          DISC            /NOW WRITE OUT THE NEW 'FIP'
 3047 23703 6605           DMAW
 3048 23704 0000  FIPRF2,  0
 3049 23705 7402          HLT
 3050 23706 5707          JMP I REFSUP    /RETURN TO 'INIT' SUPERVISOR
 3051             
 3052 23707 4216  REFSUP, SUPER
 3053 23710 7252  SATTBL, -SATSIZ+2
 3054             
 3055 23711 0000  COUNT,  0
 3056 23712 4111  MFD1,   MFD
 3057 23713 0000  COUNT2, 0
 3058 23714 7764  C7764,  -14
 3059 23715 0000  STORE0, 0
 3060 23716 4076  FIPRFD, FIPRD
 3061 23717 5600  CENTBL, ENTABL  /BOTTOM OF FIP TABLE AREA
 3062 23720 3071  FIPBLT, ZERO    /ROUTINE TO CLEAR FIELD 1 FROM C(AC)
 3063 23721 7250  SATBOT, -SATSIZ
 3064 23722 7251  SATCNT, -SATSIZ+1
 3065 23723 0253  C0253,  253
 3066 23724 3774  CM4004, -4004
 3067 23725 1157  SEGMAX, DSKSIZ-JOBMAX-SWDEX^20-1        /MAXIMUM SEGMENT NUMBER

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 77


 3068             /ROUTINE TO MOVE XDDT INTO DATFLD (HIGH END OF TS8II).
 3069             
 3070 23726 0000  LODDT,  0
 3071 23727 1350          TAD KM4300
 3072 23730 3746          DCA I FRENDA    /MAKE FREE-CORE END AT 4300
 3073 23731 7240          CLA CMA
 3074 23732 1347          TAD K4300
 3075 23733 3015          DCA AXS1        /POINTS TO ORIGINAL
 3076 23734 1015          TAD AXS1
 3077 23735 3016          DCA AXS2        /POINTS TO COPY
 3078 23736 1415  LODLP,  TAD I AXS1      /GET A WORD
 3079 23737 6211          DATFLD
 3080 23740 3416          DCA I AXS2      / & MOVE IT
 3081 23741 4102          CHDF
 3082 23742 2345          ISZ DDTSIZ      /ARE WE DONE?
 3083 23743 5336          JMP LODLP       /NO
 3084 23744 5726          JMP I LODDT     /YES - RETURN
 3085             
 3086 23745 4501  DDTSIZ, 4300-7577       /THIS GETS DESTROYED
 3087 23746 1410  FRENDA, FRIEND
 3088 23747 4300  K4300,  4300
 3089 23750 3500  KM4300, -4300
 3090             /
 3091 23751 3711  NEWPAS, TEXT /_INITIAL MGR1 & MGR2 PASSWORDS ARE 'LOAD'_/
      23752 1611
      23753 2411
      23754 0114
      23755 4015
      23756 0722
      23757 6140
      23760 4640
      23761 1507
      23762 2262
      23763 4020
      23764 0123
      23765 2327
      23766 1722
      23767 0423
      23770 4001
      23771 2205
      23772 4047
      23773 1417
      23774 0104
      23775 4737
      23776 0000

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 78


 3092                     PAGE
 3093 24000 5601          JMP I .+1
 3094 24001 2000          INBOOT
 3095             
 3096 24002 6157  CRTABL, RTABLE-1        /MFD SEGMENT #S
 3097 24003 6040  CUTABL, UTABLE
 3098 24004 6041  CUTAB1, UTABLE+1
 3099 24005 5577  FIPTBS, ENTABL-1        /START OF AREA TO CLEAR IN FIP
 3100 24006 0311  MFDLOC, SWDEX+JOBMAX^10+1       /DISC ADDRESS OF MFD
 3101 24007 0531  SATCON, SATSIZ+1
 3102             
 3103 24010 0000  PERSET, 0
 3104 24011 1206          TAD MFDLOC
 3105 24012 3215          DCA FRD1
 3106 24013 4506          DISC            /READ THE MFD INTO FIELD 1
 3107 24014 6603           DMAR
 3108 24015 0000  FRD1,    0
 3109 24016 5213          JMP .-3         /ERROR - TRY AGAIN
 3110 24017 1023          TAD C0010
 3111 24020 7104          CLL RAL
 3112 24021 3015          DCA AXS1
 3113 24022 1047          TAD INBUF
 3114 24023 3016          DCA AXS2
 3115 24024 1310          TAD M7          /SET THE MAX SEGMENT COUNT
 3116 24025 3215          DCA FRD1
 3117 24026 6211  FRD2,   CDF 10
 3118 24027 1415          TAD I AXS1
 3119 24030 4102          CHDF
 3120 24031 7450          SNA             /HAVE WE REACHED THE END?
 3121 24032 5236          JMP FRD3        /YES - WE'RE DONE
 3122 24033 3416          DCA I AXS2
 3123 24034 2215          ISZ FRD1
 3124 24035 5226          JMP FRD2
 3125 24036 3416  FRD3,   DCA I AXS2      /STORE A ZERO AS A TERMINATOR
 3126 24037 4276          JMS FIPRD       /FIP TO FIELD 1
 3127 24040 3273          DCA PERSE1
 3128 24041 1205          TAD FIPTBS      /CLEAR FIP TABLES
 3129 24042 3015          DCA AXS1
 3130 24043 6211          DATFLD
 3131 24044 3415          DCA I AXS1
 3132 24045 1015          TAD AXS1        /HAVE WE REACHED BOTTOM OF SAT?
 3133 24046 1207          TAD SATCON
 3134 24047 7640          SZA CLA
 3135 24050 5244          JMP .-4         /NO
 3136 24051 1202          TAD CRTABL      /MOVE MFD SEGMENT #S TO RTABLE
 3137 24052 3015          DCA AXS1
 3138 24053 1047          TAD INBUF
 3139 24054 3016          DCA AXS2
 3140 24055 4102  PERSE3, CHDF
 3141 24056 1416          TAD I AXS2
 3142 24057 6211          DATFLD
 3143 24060 7450          SNA
 3144 24061 5264          JMP .+3
 3145 24062 3415          DCA I AXS1
 3146 24063 5255          JMP PERSE3
 3147 24064 7324          CLL CLA CML RAL
 3148 24065 3603          DCA I CUTABL    /UTABLE=1

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 79


 3149 24066 7040          CMA
 3150 24067 3604          DCA I CUTAB1    /UTABLE+1=-1
 3151 24070 4102          CHDF
 3152 24071 4506          DISC            /NOW WRITE IT OUT
 3153 24072 6605           DMAW
 3154 24073 0000  PERSE1,  0
 3155 24074 5271          JMP .-3
 3156 24075 5610          JMP I PERSET
 3157             
 3158             /ROUTINE TO READ 'FIP' INTO FIELD 1
 3159 24076 0000  FIPRD,  0
 3160 24077 1307          TAD PERFIP
 3161 24100 3303          DCA PERSE0
 3162 24101 4506          DISC            /READ FIP INTO FIELD 1
 3163 24102 6603           DMAR
 3164 24103 0000  PERSE0,  0
 3165 24104 5301          JMP .-3
 3166 24105 1303          TAD PERSE0
 3167 24106 5676          JMP I FIPRD
 3168             
 3169 24107 0011  PERFIP, FIPDEX^2+1      /DISC ADDRESS OF FIP
 3170 24110 7771  M7,     -7
 3171             /
 3172             /INITIAL MFD AFTER REFRESHING
 3173 24111 0000  MFD,    0
 3174 24112 0000          0
 3175 24113 0000          0
 3176 24114 0010          10
 3177 24115 0000          0
 3178 24116 0000          0
 3179 24117 0000          0
 3180 24120 0000          0
 3181             
 3182 24121 0001          1               /0,1 PROJ,PROG NUMBER
 3183 24122 5457          5457    /"LOAD"
 3184 24123 4144          4144
 3185 24124 0030          30              /NEXT ENTRY
 3186 24125 0037          37              /PROTECTION
 3187 24126 0000          0
 3188 24127 0000          0
 3189 24130 0020          20              /FIRST RETREIVAL BLOCK AT WORD 10
 3190             
 3191 24131 0000          0
 3192 24132 0001          1               /SEGMENT 1 IS THE ONLY ONE AROUND
 3193 24133 0000          0               /NO OTHER SEGMENTS YET
 3194 24134 0000          0               /FINISH UP THE BLOCK
 3195 24135 0000          0
 3196 24136 0000          0
 3197 24137 0000          0
 3198 24140 0000          0
 3199             
 3200 24141 0002          2               /0,2 PROJ,PROG NUMBER
 3201 24142 5457          5457    /"LOAD"
 3202 24143 4144          4144
 3203 24144 0000          0               /NO OTHER ENTRIES
 3204 24145 0032          32              /PROTECTION
 3205 24146 0000          0

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 80


 3206 24147 0000          0
 3207 24150 0040          40              /SECONDS RETRIEVAL BLOCK
 3208             
 3209 24151 0000          0               /ONLY WINDOW
 3210 24152 0002          2               /SEGMENT #2
 3211 24153 7777          7777            /TERMINATE THE STRING
 3212             
 3213 24154 3737  UPMSG,  TEXT '__TSS/8 RESTARTED_PLEASE LOGIN__.'
      24155 2423
      24156 2357
      24157 7040
      24160 2205
      24161 2324
      24162 0122
      24163 2405
      24164 0437
      24165 2014
      24166 0501
      24167 2305
      24170 4014
      24171 1707
      24172 1116
      24173 3737
      24174 5600

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 81


 3214                     PAGE
 3215                     IFNZRO 4200-.   <GLITCH>
 3216             /INIT SUPERVISOR
 3217             /OVERLAYS XDDT PERMANENT SYMBOL TABLE
 3218 24200 5216  MANUAL, JMP SUPER       /STARTED IN 'SI' - DON'T GRAB THE DATE & TIME
 3219 24201 3033  AUTOST, DCA AUTOSW      /SET (OR CLEAR) THE AUTO-RESTART FLAG
 3220 24202 6201          CDF
 3221 24203 1441          TAD I CLK1A
 3222 24204 3050          DCA SVCLK1      /SAVE THE CURRENT TIME
 3223 24205 1442          TAD I CLK2A
 3224 24206 3051          DCA SVCLK2
 3225 24207 1703          TAD I DATEB
 3226 24210 3052          DCA SVDATE      / AND THE DATE
 3227 24211 6211          DATFLD
 3228 24212 1705          TAD I UPTM1B    / AND THE SYSTEM UPTIME
 3229 24213 3053          DCA SVUPT1
 3230 24214 1706          TAD I UPTM2B
 3231 24215 3054          DCA SVUPT2
 3232 24216 6224  SUPER,  RIF
 3233 24217 1026          TAD C6203
 3234 24220 3103          DCA INIF
 3235 24221 4102          CHDF
 3236 24222 1033          TAD AUTOSW
 3237 24223 7640          SZA CLA         /AUTOMATIC RESTART?
 3238 24224 5667          JMP I SYSINA    /YES
 3239 24225 4510          MESSAG
 3240 24226 0745           LDXRS          /LOAD, DUMP, XDDT, REFRESH, START??
 3241 24227 4515          GETIN           /WAIT FOR REPLY
 3242 24230 1447          TAD I INBUF
 3243 24231 1300          TAD CM0314      /LOAD?
 3244 24232 7450          SNA
 3245 24233 5271          JMP SUPLOD      /YES
 3246 24234 1023          TAD C0010       /DUMP?
 3247 24235 7650          SNA CLA
 3248 24236 5272          JMP SUPDMP      /YES
 3249             
 3250 24237 1447          TAD I INBUF
 3251 24240 1302          TAD CM0330      /XDDT?
 3252 24241 7650          SNA CLA
 3253 24242 5675          JMP I SUPDDT    /YES
 3254             
 3255                     /NOW IT'S EITHER REFRESH OR START...
 3256                     /EITHER WAY, WE NEED AN INIT IN FIELD 2
 3257             
 3258 24243 6224          RIF
 3259 24244 1277          TAD C7760
 3260 24245 7650          SNA CLA         /ARE WE ALREADY THERE?
 3261 24246 5262          JMP SUPER2      /YES
 3262 24247 3304          DCA SUPCNT      /HAVE TO MOVE THERE
 3263 24250 4102          CHDF
 3264 24251 1704          TAD I SUPCNT    /FROM HERE...
 3265 24252 6221          DATFLD+10
 3266 24253 3704          DCA I SUPCNT    /       ... TO THERE
 3267 24254 2304          ISZ SUPCNT
 3268 24255 5250          JMP .-5
 3269 24256 6223          DATFLD+12
 3270 24257 5260          JMP .+1

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 82


 3271 24260 1256          TAD .-2
 3272 24261 3103          DCA INIF        /REMEMBER WHERE WE ARE
 3273             
 3274 24262 1447  SUPER2, TAD I INBUF
 3275 24263 1301          TAD CM0322      /REFRESH?
 3276 24264 7640          SZA CLA
 3277 24265 5667          JMP I .+2       /NO; ASSUME START
 3278 24266 5670          JMP I .+2       /YES
 3279 24267 1000  SYSINA, SYSINI
 3280 24270 3600          REFCO0
 3281             
 3282 24271 7240  SUPLOD, STA             /"DTA" = 0 FOR WRITE; =/ 0 OTHERWISE
 3283 24272 3676  SUPDMP, DCA I SUPDTA
 3284 24273 5674          JMP I .+1
 3285 24274 3400          DSKDMP
 3286             
 3287 24275 7000  SUPDDT, 7000
 3288 24276 3475  SUPDTA, DTA
 3289 24277 7760  C7760,  -20
 3290 24300 7464  CM0314, -"L
 3291 24301 7456  CM0322, -"R
 3292 24302 7450  CM0330, -"X
 3293 24303 0035  DATEB,  DATE
 3294 24304 0000  SUPCNT, 0
 3295 24305 0174  UPTM1B, UPTIM1
 3296 24306 0173  UPTM2B, UPTIM2

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 83


 3297             /
 3298             /SYSTEM INITIALIZATION ROUTINE TO TYPE THE SYSTEM RESTARTED
 3299             /MESSAGE ON ALL CONSOLES; WE ALSO PRINT ADDITIONAL INFO
 3300             /ON K00 IF THIS IS AN AUTOMATIC SYSTEM REBOOT.
 3301 24307 0000  RDYMSG, 0
 3302 24310 1355          TAD RDYQCH
 3303 24311 3114          DCA TYPEA       /REPLACE THE 'TYPE' ROUTINE
 3304 24312 1033          TAD AUTOSW
 3305 24313 7650          SNA CLA         /DOING AN AUTOMATIC RESTART?
 3306 24314 5343          JMP RDYMS1      /NO
 3307 24315 1357          TAD RDYTP0
 3308 24316 3373          DCA QCHAR       /SET TO BUFFER FOR K00
 3309 24317 4510          MESSAG          /TYPE SYSTEM CRASH MESSAGE
 3310 24320 0643           AUTOMS
 3311 24321 1033          TAD AUTOSW
 3312 24322 4761          JMS I RDYOCT    / THE CRASH ADDRESS,
 3313 24323 4510          MESSAG
 3314 24324 0735           DASH
 3315 24325 1052          TAD SVDATE
 3316 24326 4761          JMS I RDYOCT    / THE DATE,
 3317 24327 1354          TAD KSLASH
 3318 24330 4514          TYPE
 3319 24331 1051          TAD SVCLK2
 3320 24332 4761          JMS I RDYOCT    / AND THE TIME
 3321 24333 1050          TAD SVCLK1
 3322 24334 4761          JMS I RDYOCT
 3323 24335 4510          MESSAG
 3324 24336 0735           DASH
 3325 24337 1054          TAD SVUPT2
 3326 24340 4761          JMS I RDYOCT    / AND ALSO THE SYSTEM UPTIME
 3327 24341 1053          TAD SVUPT1
 3328 24342 4761          JMS I RDYOCT
 3329 24343 1360  RDYMS1, TAD RDYTP1
 3330 24344 3373          DCA QCHAR       /NOW SET TO BUFFER FOR EVERYONE
 3331 24345 1022          TAD C0007
 3332 24346 4514          TYPE            /RING THE BELL
 3333 24347 4510          MESSAG          / AND TELL EVERYONE WE'RE BACK UP
 3334 24350 4154           UPMSG
 3335 24351 1356          TAD RDYTYP
 3336 24352 3114          DCA TYPEA       /RESET THE 'TYPE' ROUTINE
 3337 24353 5707          JMP I RDYMSG    / AND RETURN
 3338             /
 3339 24354 0257  KSLASH, "/
 3340 24355 4362  RDYQCH, RTYPE
 3341 24356 0537  RDYTYP, OUT
 3342 24357 3120  RDYTP0, QUEUE   /BUFFER CHARACTER FOR K00 ONLY
 3343 24360 3101  RDYTP1, PRTAL0  /BUFFER CHARACTER FOR EVERY TERMINAL
 3344 24361 0457  RDYOCT, HACK    /TYPE AN OCTAL NUMBER
 3345             /
 3346             /ROUTINE TO BUFFER A SINGLE CHARACTER IN TSS/8
 3347 24362 0000  RTYPE,  0
 3348 24363 3374          DCA RTYPCH      /SAVE THE CHARACTER
 3349 24364 7012          RTR             / AND THE LINK
 3350 24365 3304          DCA SUPCNT
 3351 24366 4773          JMS I QCHAR     /THEN BUFFER IT
 3352 24367 4374           RTYPCH
 3353 24370 1304          TAD SUPCNT

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 84


 3354 24371 7106          CLL RTL         /RESTORE THE LINK
 3355 24372 5762          JMP I RTYPE     / AND RETURN
 3356             /
 3357 24373 0000  QCHAR,  0
 3358 24374 0000  RTYPCH, 0       /SINGLE CHARACTER MESSAGE
 3359 24375 0000          0

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 85


 3360             /
 3361             /PATCHES TO 'XDDT'
 3362                     IFNZRO 4434-.&4000      <GLITCH; *.-1>
 3363             
 3364       5137          *5137
 3365 25137 7777          7777    /ASSUMED UPPER SEARCH-LIMIT
 3366             
 3367       5400          *5400
 3368 25400 0070          70      /PATCH MAX FIELD SELECT FOR XDDT
 3369             
 3370       5722          *5722
 3371 25722 7777          7777    /INITIAL UPPER SEARCH-LIMIT
 3372             
 3373       6367          *6367
 3374 26367 0020          INFLD   /INITIAL DATA FIELD
 3375             
 3376       6400          *6400
 3377 26400 4434          4434    /DELETE ALL BUT THE 8 BASIC INSTRUCTIONS IN XDDT
 3378 26401 4434          4434
 3379 26402 4434          4434
 3380             /

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 86


 3381       7626          *7626
 3382             /BINARY LOADER - SLIGHTLY MODIFIED FROM THE STANDARD LOADER
 3383             /TO ALLOW IT TO OVERLAY ITSELF & TO MAKE THE DATA-BREAK
 3384             /LOCATIONS CLOBBERABLE.
 3385             
 3386             /EXTRACT ERRORS, FIELD, L/T
 3387       27626  BEGG=   .
 3388       7627          *.+1
 3389 27627 3352          DCA SWITCH      /SET SWITCH
 3390 27630 4260          JMS READ        /GET A CHARACTER
 3391 27631 1347          TAD M376
 3392 27632 7750          SPA SNA CLA     /IS IT A 377?
 3393 27633 5237          JMP .+4         /NO
 3394 27634 2352          ISZ SWITCH      /YES - COMPLEMENT SWITCH
 3395 27635 7040          CMA
 3396 27636 5227          JMP BEGG+1
 3397 27637 1352          TAD SWITCH
 3398 27640 7640          SZA CLA         /IS SWITCH SET?
 3399 27641 5230          JMP BEGG+2      /YES - IGNORE
 3400 27642 1363          TAD CHAR1       /NO - TEST FOR CODE TYPES
 3401 27643 0274          AND MASK
 3402 27644 1361          TAD M200
 3403 27645 7510          SPA
 3404 27646 2226          ISZ BEGG        /DATA OR ORIGIN
 3405 27647 7750          SPA SNA CLA
 3406 27650 5626          JMP I BEGG      /DATA, ORIGIN, OR L/T
 3407 27651 1363          TAD CHAR1
 3408 27652 0256          AND FMASK
 3409 27653 1257          TAD CHANGE
 3410 27654 3353          DCA MEMTEM      /SAVE NEW FIELD SETTING
 3411 27655 5230          JMP BEGG+2      /CONTINUE INPUT
 3412 27656 0070  FMASK,  70
 3413 27657 6201  CHANGE, CDF
 3414             
 3415       27660  READ=   .               /ROUTINE TO GET ONE CHAR
 3416       7662          *.+2            /'JMP' TO APPROPRIATE SECTION
 3417 27662 6031  LOR,    KSF             /WAIT FOR FLAG
 3418 27663 5262          JMP .-1
 3419 27664 6036          KRB
 3420 27665 3363          DCA CHAR1
 3421 27666 1363          TAD CHAR1
 3422 27667 5660          JMP I READ
 3423 27670 6011  HIR,    RSF
 3424 27671 5270          JMP .-1
 3425 27672 6016          RRB RFC
 3426 27673 5265          JMP LOR+3
 3427 27674 0300  MASK,   300
 3428             
 3429             /TRAILER CODE SEEN
 3430 27675 4336  BEND,   JMS ASSEMB      /ASSEMBLE THE TAPE CHECKSUM
 3431 27676 7041          CIA
 3432 27677 1364          TAD CHKSUM
 3433 27700 7402  DONE,   HLT             / & HALT WITH DIFFERENCE IN AC
 3434             
 3435 27701 6032  BEGIN,  KCC
 3436 27702 6014          RFC
 3437 27703 6214          RDF

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 87


 3438 27704 1257          TAD CHANGE
 3439 27705 3353          DCA MEMTEM      /SAVE FIELD INSTRUCTION
 3440 27706 7604          CLA OSR
 3441 27707 7700          SMA CLA         /LOW- OR HIGH-SPEED READER?
 3442 27710 1346          TAD HIRI        /HIGH
 3443 27711 1345          TAD LORI        /LOW
 3444 27712 3261          DCA READ+1
 3445 27713 4226          JMS BEGG        /SKIP PAST LEADER
 3446 27714 5313          JMP .-1
 3447 27715 3364  GO,     DCA CHKSUM
 3448 27716 1353          TAD MEMTEM
 3449 27717 3356          DCA MEMFLD      /SET DATA-FIELD SELECT
 3450 27720 1363          TAD CHAR1
 3451 27721 3366          DCA WORD1
 3452 27722 4260          JMS READ        /GET SECOND CHAR OF PAIR
 3453 27723 3367          DCA WORD2
 3454 27724 4226          JMS BEGG        /LOOK AHEAD
 3455 27725 5275          JMP BEND        /TRAILER SEEN - LAST WORD IS CHECKSUM
 3456 27726 4336          JMS ASSEMB
 3457 27727 7420          SNL             /NEW ORIGIN?
 3458 27730 5356          JMP MEMFLD      /NO - STORE THE WORD
 3459 27731 3365          DCA ORIGIN      /YES - SET IT
 3460 27732 1366  CHEX,   TAD WORD1
 3461 27733 1367          TAD WORD2
 3462 27734 1364          TAD CHKSUM      /UPDATE THE CHECKSUM
 3463 27735 5315          JMP GO
 3464             
 3465       27736  ASSEMB= .
 3466       7737          *.+1
 3467 27737 1366          TAD WORD1
 3468 27740 7106          CLL RTL
 3469 27741 7006          RTL
 3470 27742 7006          RTL
 3471 27743 1367          TAD WORD2
 3472 27744 5736          JMP I ASSEMB
 3473 27745 5262  LORI,   JMP LOR
 3474 27746 0006  HIRI,   HIR-LOR
 3475 27747 7402  M376,   -376
 3476 27750 7751          7751    /THESE ARE FOR THE DISC DATA-BREAK
 3477 27751 7751          7751    / CONTROL-WORDS
 3478       27752  SWITCH= .
 3479       7753  MEMTEM= SWITCH+1
 3480       7754          *7754
 3481 27754 7755          7755    /THESE ARE THE DECTAPE DATA-BREAK WORDS
 3482 27755 7755          7755
 3483       27756  MEMFLD= .       /DATA-FIELD SELECT
 3484       7757          *MEMFLD+1
 3485 27757 3765          DCA I ORIGIN
 3486 27760 2365          ISZ ORIGIN
 3487 27761 7600  M200,   7600
 3488 27762 5332          JMP CHEX
 3489       27763  CHAR1=  .       /BY NOT USING ZERO CONSTANTS HERE, WE
 3490       7764  CHKSUM= CHAR1+1 / PERMIT THIS LOADER TO LOAD OVER ITSELF
 3491       7765  ORIGIN= CHKSUM+1
 3492       7766  WORD1=  ORIGIN+1
 3493       7767  WORD2=  WORD1+1
 3494       7777          *7777

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 88


 3495 27777 5301          JMP BEGIN
 3496             /////   $$$$$

      No detected errors

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 89
                                                                    Symbol Table

    1  ASD     0040   CHEX   07732   CORSRA 01406   DISC    4506   DTGO   02600 
    2  ASSEMB  7736   CHKSUM  7764   CORSRC  1317   DISC0  01600   DTJOB   0027 
    3  AUTOMS 00643   CINT    6204   CORTBA 00045   DISC1  01633   DTL11   0601 
    4  AUTOST 04201   CJOB    0037   CORTBL  7001   DISC2  01647   DTL20   0551 
    5  AUTOSW 00033   CJOBDA  0020   COUNT  03711   DISCHI 00453   DTL21   1004 
    6  AXS1   00015   CJOBMX 00040   COUNT2 03713   DISCLK 00200   DTMA    7755 
    7  AXS2   00016   CLEAR  03056   CPASS   0207   DISCLO 00452   DTMAA  02717 
    8  B7750  02016   CLK1    0033   CPU     0002   DISK   00416   DTMF   02730 
    9  B7751  02017   CLK1A  00041   CREXIT 00355   DISPLA 00205   DTREV  02621 
   10  BCLR    0220   CLK2    0034   CRF     0210   DISROW 01634   DTRKHG  3671 
   11  BEGG    7626   CLK2A  00042   CRLF    0713   DLAG    6743   DTRWT  02626 
   12  BEGIN  07701   CLKDAT 01047   CRTABL 04002   DLCA    6744   DTWAIT 02700 
   13  BEND   07675   CLKIN1 01043   CSCF    6133   DLDC    6746   DTWC    7754 
   14  BILLNG  0007   CLKINI 01031   CTRLB   0002   DLKIOT 00437   DTWCA  02720 
   15  BLT0    5200   CLKTBL  2722   CTRLC   0040   DMAINT  6747   DUPL    0200 
   16  BRDMAX  0012   CLKTIM 01050   CTRLS   4000   DMUL   02400   DVTB   01020 
   17  BRKINI  4000   CLOCKR  0062   CUF     6264   DONE   07700   DXOFF   3000 
   18  BUFLIM 01725   CLOS    0202   CUTAB1 04004   DRST    6745   DXON    2000 
   19  BUFPTR 01726   CLOSE  00411   CUTABL 04003   DSBUSY  0036   EAE     0000 
   20  C0002  00020   CLR1   03070   D6603  03525   DSI     1000   ENDBUF  0400 
   21  C0003  00021   CLR2   03100   D680    0000   DSK    03457   ENDIOT  5333 
   22  C0007  00022   CLSOPN 00226   D689    0000   DSK1   03470   ENTABL  5600 
   23  C0010  00023   CM0314 04300   DASH    0735   DSKCNT 03522   ERPDEX  0000 
   24  C0012  02026   CM0322 04301   DATA1   2400   DSKD1  03411   ERPWC   0000 
   25  C0013  03520   CM0330 04302   DATDAY 02031   DSKDKP 03461   EXT     0211 
   26  C0031  02027   CM13   02023   DATE    0035   DSKDMP 03400   F1BUF   0177 
   27  C0040  03517   CM215  01727   DATE1  02115   DSKDRD 03451   F1DTST  2512 
   28  C0070  01651   CM2702 03521   DATEA  02032   DSKDSA 03527   F1ECNT  0176 
   29  C0074  02500   CM32   02025   DATEB  04303   DSKDTP 03477   F1OFFJ  0036 
   30  C0100  00024   CM331  02135   DATEIN 02033   DSKDWR 03452   F1RTN   0277 
   31  C0212  01730   CM4004 03724   DATFLD  6211   DSKERR  0005   F1TCNT  0175 
   32  C0253  03723   CMBASE 02022   DATMES 00721   DSKINI 02454   FA1     0260 
   33  C0400  00025   CMCR   02024   DATMON 02030   DSKP    6741   FA2     0260 
   34  C6201  01623   CMR    03053   DATMUL 02021   DSKPTR 00017   FA3     0260 
   35  C6203  00026   CMW    03054   DBELL   1000   DSKSIZ  0100   FA4     0267 
   36  C660   02501   COEXIT 00353   DC08A   0000   DSKSZ  03523   FIELD1 00675 
   37  C6603  03055   COMGE0 02136   DC08LO  0000   DSKTGO 03524   FILDA   0004 
   38  C7750  01652   COMGET  4505   DCLR    6742   DSUTBA 00046   FILPAR  0003 
   39  C7751  01653   CONDBA  0030   DCSIZE  0000   DSUTBL  3061   FILPCA  0004 
   40  C7760  04277   CONDDB  0031   DDBBRK  0002   DT0070 02721   FILPCT  0007 
   41  C7764  03714   CONDVA 00043   DDBINC  0005   DT0200 02727   FILPDA  0005 
   42  C7770  00027   CONTTY  0001   DDBINP  0004   DT0600 02723   FILPDX  0001 
   43  C7774  00030   CORCNT 00044   DDBJN   0001   DT7010 02722   FILPFN  0000 
   44  C7777  00031   CORF1  01402   DDBOUC  0006   DTA    03475   FILPIF  0002 
   45  CDL11   1720   CORFCT 01401   DDBOUP  0007   DTAGN  02615   FILPRA  0006 
   46  CDL21   1704   CORFRE 01400   DDBSTS  0000   DTALK   0001   FILPRO  0002 
   47  CDR     0000   CORGEA 01403   DDBTIM  0003   DTAMIN  0002   FILPWC  0003 
   48  CDVGAP  0003   CORIN0 01430   DDTMES 00737   DTBLKO 02726   FILRES  0007 
   49  CDVIN   0003   CORIN1 01500   DDTSIZ 03745   DTDEF0  0535   FILSCT  0001 
   50  CDVOUT  0004   CORIN2 01504   DEBUG   0000   DTDSF0  0541   FILWC   0006 
   51  CECI    6131   CORIN3 01516   DECHO   0020   DTDSK   0527   FILWPT  0000 
   52  CENTBL 03717   CORIN4 01530   DEVCHK  7045   DTER1  02671   FINF    6613 
   53  CHANGE 07657   CORINI 01412   DEVTBE  2640   DTERR  02675   FIP     0400 
   54  CHAR   00034   CORLNK 01404   DEVTBL  2600   DTERRI 02724   FIPBLK  7720 
   55  CHAR1   7763   CORMAX 01405   DFORC   0004   DTFOR  02640   FIPBLT 03720 
   56  CHDF    4102   CORMEM  0070   DFULL   0400   DTFUNC 02725   FIPDEX  0004 
   57  CHDFA  00102   CORMES 00654   DHALF   0010   DTFWT  02644   FIPJOB  0057 

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 90
                                                                    Symbol Table

   58  FIPRD  04076   INIF   00103   KL8     0017   MLCA   00535   OUTDIF  2200 
   59  FIPREM 00714   INIT0  01017   KM4300 03750   MLCZ   00536   OUTIOT  2340 
   60  FIPRF1 03624   INPUT  00363   KMCOLO 00364   MP1    02447   OUTREG  0200 
   61  FIPRF2 03704   INPUTS  0036   KMCR   00367   MP2    02450   OVERL1  5764 
   62  FIPRF3 03611   JCOMBD  1000   KMCX   00365   MP3    02451   OVERLA  2364 
   63  FIPRF4 03675   JOB     0062   KMEIGH 00371   MP4    02421   OVRLA1  0572 
   64  FIPRF5 03677   JOBACT  0015   KMLF   00366   MP5    02452   P7750  00447 
   65  FIPRFD 03716   JOBDWT  0004   KMZERO 00370   MQREG   0001   P7751  00450 
   66  FIPTBS 04005   JOBEAE  0014   KSLASH 04354   MSG212 00637   PCLOSE 00254 
   67  FIPWC   0000   JOBERR  0006   KSPACE 00553   MSG215 00640   PERFIP 04107 
   68  FJ1     0002   JOBF0   0020   L2EXIT  4051   MSG237 00641   PERSE0 04103 
   69  FJ2     0004   JOBF1   0021   L2Q    00013   MSG77  00636   PERSE1 04073 
   70  FLDNUM 03044   JOBF2   0022   L2QE   00014   MSGCR  00631   PERSE3 04055 
   71  FMASK  07656   JOBF3   0023   L2QTB   7010   MSGLP  00604   PERSET 04010 
   72  FRCDEV 01102   JOBLNK  0007   L2SF    0041   MSGM37 00642   PHACK  00260 
   73  FRCFLG 01105   JOBMAX  0024   L2SV0   0042   MSGPR1 00627   PHONES  0000 
   74  FRCJ1  01072   JOBREG  0011   L2TIM3  2631   MSGPRT 00615   PIN    00261 
   75  FRCJOB 01053   JOBRTH  0017   LCF     6662   MSGPTR 00635   PLT     0000 
   76  FRCMAX  0012   JOBRTM  0016   LCFIX  00534   NEWPAS 03751   PNXTAD 00255 
   77  FRCSTR 01111   JOBSCH  0024   LCP     6667   NEXTAD 00554   POPEN  00253 
   78  FRD1   04015   JOBSRA  0005   LDXRS  00745   NFSEGS  5533   PRAMAX 03117 
   79  FRD2   04026   JOBSTB  0002   LFEXIT 00354   NOHOLD  0140   PRAMSG 03112 
   80  FRD3   04036   JOBSTS  0000   LIBACT  0002   NOTRUN  1000   PREGAD 00451 
   81  FRECNT  0040   JOBSWR  0010   LIE     6665   NULINE  0017   PRESTO 00257 
   82  FREE    0037   JOBTBL  2675   LIN     0214   NUMAGN  0036   PRGTBL  2774 
   83  FREND  01407   JOBWMK  0003   LISTEN 00272   NUMB17 02200   PRINT   4513 
   84  FRENDA 03746   JSACC   0200   LLC     6664   NUMBI0 02211   PRINT0  1203 
   85  FRIEND 01410   JSBAT   0100   LOAD   03000   NUMBI1 02237   PROT    0204 
   86  FSWP    4000   JSDEL   0100   LOAD1  03005   NUMBI2 02241   PRTAL0 03101 
   87  GETB    1400   JSEREN  2000   LOCK    2000   NUMBI3 02320   PRTAL1 03110 
   88  GETCHR 01731   JSERR   0002   LODDT  03726   NUMBI4 02332   PSAVE  00256 
   89  GETDB0  1440   JSF0    2000   LODDTA 01411   NUMBI5 02275   PSPACE 00262 
   90  GETDDB  4706   JSF1    1000   LODLP  03736   NUMBIN  4511   PT08    0000 
   91  GETIN   4515   JSF2    0400   LOR    07662   NUMCNT 02201   PUNCH   0001 
   92  GETIN0 01656   JSF3    0200   LORI   07745   NUMDEC 02302   PVALU1 00456 
   93  GETIN1 01661   JSHLT   0200   LOUT    0215   NUMDIF  0023   PVALUE 00455 
   94  GETIN3 01702   JSINER  0010   LPC     6666   NUMDSP 02202   QCHAR  04373 
   95  GETIN4 01722   JSIOT   0100   LPT     0003   NUMHO  00035   QDEV   03145 
   96  GETJTB  7200   JSIOTC  0040   LSF     6661   NUMINU 02203   QPTR   03146 
   97  GIR     4707   JSLPT   0040   LSP     6665   NUMM5  02204   QTBL   03147 
   98  GIR00   6200   JSPRIV  0400   LSRP    6663   NUMOCT 02312   QTTY   03150 
   99  GO     07715   JSPTP   0004   M12    02453   NUMPLS 02205   QUANT   7772 
  100  HACK   00457   JSPTR   0010   M200   07761   NUMSGN 02206   QUEUE  03120 
  101  HDBLKA 03533   JSRSEN  0020   M376   07747   NUMSKP 02207   QUEUE0  1473 
  102  HIR    07670   JSRUN   4000   M7     04110   NUMZER 02210   QUEUE1 03131 
  103  HIRI   07746   JSTEL   0020   MANUAL 04200   OCI260 02334   QUEUE2 03135 
  104  HUNGDV  0006   JSTIME  4000   MASAVE 01654   OCTIN   4512   RCNI    6637 
  105  IN     00503   JSWAIT  0001   MASK   07674   OCTIN0 02336   RCNO    6635 
  106  IN1    00530   K177   00454   MC0377 00032   OCTIN1 02340   RCRA    6632 
  107  INBOOT 02000   K200   00533   MCOM   03526   OCTIN2 02361   RCRB    6634 
  108  INBUF  00047   K260   00502   MEMFLD  7756   OCTINT 02335   RCRC    6636 
  109  INBUFA 02550   K4300  03747   MEMTEM  7753   OOPS   00711   RCRD    6674 
  110  INBUFZ  2561   K6201  00423   MESSA0 00600   OPEN    6601   RCSD    6671 
  111  INCLK1  7000   KC      6002   MESSAG  4510   OPNREG 00360   RCSE    6672 
  112  INCLK2  0645   KCHAR  00100   MFD    04111   ORIGIN  7765   RCSF    6631 
  113  INFLD   0020   KCOLON 00251   MFD1   03712   OTIN   00263   RCSI    6675 
  114  INIDEX  0010   KCR    00252   MFDLOC 04006   OUT    00537   RCTF    6677 

      /TSS-8.25 CONFIGURATION FOR UWM                                    Page 91
                                                                    Symbol Table

  115  RDIOT  00410   SKIPS1 01542   T8OUTK 00066   UUOERF  0001 
  116  RDORWT 00665   SKISPA 01537   T8SL   00056   UUOERR  4404 
  117  RDYMS1 04343   SKITAB 01540   T8SOUT 00077   UUOEX1  0336 
  118  RDYMSG 04307   SKPTBL  0226   TC01    0001   VALUE  00356 
  119  RDYOCT 04361   SKPTP   0275   TC130  03211   VALUE1 00357 
  120  RDYQCH 04355   SLEEP   2357   TC200  03212   VERNUM  0031 
  121  RDYTP0 04357   SPACE  00545   TC600  03213   WAIT    5516 
  122  RDYTP1 04360   SPL     6102   TC610  03214   WCSAVE 01655 
  123  RDYTYP 04356   START  01167   TCBLKS 03201   WFILE   6605 
  124  READ    7660   STOMIN  0005   TCDTA  03202   WH50   03347 
  125  READER  0001   STORE0 03715   TCFLD  03203   WHWAIT 03350 
  126  READFI  3652   SUF     6274   TCHAR  00101   WINBAS  7730 
  127  RED     0212   SUPCNT 04304   TCHD1  03220   WORD1   7766 
  128  REDO0   4172   SUPDDT 04275   TCHD2  03232   WORD2   7767 
  129  REFCO0 03600   SUPDMP 04272   TCHEAD 03200   WRDSEG  0400 
  130  REFSUP 03707   SUPDTA 04276   TCINBK 03204   WRIOT  00415 
  131  REL     0042   SUPER  04216   TCINIF 03205   WRTADR 03351 
  132  RELOAD  3600   SUPER2 04262   TCMA   03206   WRTHD  03304 
  133  REN     0200   SUPERA 03456   TCSVT1 03302   WRTHD1 03312 
  134  RESTOR 00570   SUPLOD 04271   TCSVT2 03303   WRTHDA 03534 
  135  RETB    0600   SVCLK1 00050   TCUDF  03260   WRTLEN 03352 
  136  RF08    0000   SVCLK2 00051   TCWC   03207   WSCHED  3006 
  137  RFILE   6603   SVDATE 00052   TCWRD  03210   XCHAR  00362 
  138  RINGIN  0304   SVUP1A 03300   TD8E    0000   XCNT   00500 
  139  RK05    0001   SVUP2A 03301   TICMIN  2260   XDDTA  00372 
  140  RK8E    0000   SVUPT1 00053   TICSPS  0024   XHACK  00501 
  141  RKDV    6740   SVUPT2 00054   TIMCDR  2621   XOPEN   6606 
  142  RKJOB   0045   SWBASE 00055   TIMCK1 02477   XOPN   00400 
  143  RKL11   2000   SWDEX   0005   TIMCK2 02476   YCHAR  00361 
  144  RKL20   3676   SWITCH  7752   TIME1  02513   YESNO   4507 
  145  RKL21   1615   SWPRER  0002   TIME2  02545   YESNO0 02121 
  146  RORW   03043   SWPWER  0003   TIMEIN 02502   YHACK  00465 
  147  RS08    0001   SYSBLD 03415   TIMER0  2200   ZERO   03071 
  148  RTABLE  6160   SYSI1  01011   TIMESS 00732 
  149  RTYPCH 04374   SYSINA 04267   TIMULT 02475 
  150  RTYPE  04362   SYSINI 01000   TLKMAX  0012 
  151  S0200  02020   SYSPER 01016   TRACK  00703 
  152  SATBOT 03721   T8AX1  00010   TRUKBD  0012 
  153  SATCNT 03722   T8AX2  00011   TS8DEX  0030 
  154  SATCON 04007   T8AX3  00012   TTCHAR  0032 
  155  SATSIZ  0530   T8BFK  00062   TTYCHR 01110 
  156  SATTBL 03710   T8CNT1 00072   TTYEVE  0001 
  157  SAVE   00562   T8CNT2 00073   TTYTBL  2747 
  158  SAVE1  00576   T8CNT3 00074   TYPE    4514 
  159  SAVE2  00577   T8INFL 00061   TYPEA  00114 
  160  SCHED0  3640   T8INI  01200   UPEEK1  2445 
  161  SEGMAX 03725   T8INPT 01201   UPMSG  04154 
  162  SHUT   00217   T8K0   00064   UPTIM1  0174 
  163  SI      0200   T8K14  00070   UPTIM2  0173 
  164  SIBRKM  0204   T8K36  00071   UPTM1A 01051 
  165  SICLR   4400   T8K7   00065   UPTM1B 04305 
  166  SICOM   0100   T8K8   00075   UPTM2A 01052 
  167  SIDATA  0020   T8K99  00076   UPTM2B 04306 
  168  SIDEX   0000   T8LN   00060   UTABLE  6040 
  169  SINT    6254   T8NL   00057   UUCDR   1735 
  170  SIWC    0000   T8NUML 00063   UUDF    0172 
  171  SKIPS  01541   T8OTK2 00067   UUDTRK  1415 
